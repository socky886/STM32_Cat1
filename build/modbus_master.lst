ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"modbus_master.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.crc16_update,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	crc16_update:
  26              	.LVL0:
  27              	.LFB132:
  28              		.file 1 "Src/Modbus_Master/crc16.h"
   1:Src/Modbus_Master/crc16.h **** /**
   2:Src/Modbus_Master/crc16.h **** @file
   3:Src/Modbus_Master/crc16.h **** CRC Computations
   4:Src/Modbus_Master/crc16.h **** 
   5:Src/Modbus_Master/crc16.h **** @defgroup util_crc16 "util/crc16.h": CRC Computations
   6:Src/Modbus_Master/crc16.h **** @code#include "util/crc16.h"@endcode
   7:Src/Modbus_Master/crc16.h **** 
   8:Src/Modbus_Master/crc16.h **** This header file provides functions for calculating
   9:Src/Modbus_Master/crc16.h **** cyclic redundancy checks (CRC) using common polynomials.
  10:Src/Modbus_Master/crc16.h **** Modified by Doc Walker to be processor-independent (removed inline
  11:Src/Modbus_Master/crc16.h **** assembler to allow it to compile on SAM3X8E processors).
  12:Src/Modbus_Master/crc16.h **** 
  13:Src/Modbus_Master/crc16.h **** @par References:
  14:Src/Modbus_Master/crc16.h **** Jack Crenshaw's "Implementing CRCs" article in the January 1992 issue of @e
  15:Src/Modbus_Master/crc16.h **** Embedded @e Systems @e Programming. This may be difficult to find, but it
  16:Src/Modbus_Master/crc16.h **** explains CRC's in very clear and concise terms. Well worth the effort to
  17:Src/Modbus_Master/crc16.h **** obtain a copy.
  18:Src/Modbus_Master/crc16.h **** 
  19:Src/Modbus_Master/crc16.h **** */
  20:Src/Modbus_Master/crc16.h **** /* Copyright (c) 2002, 2003, 2004  Marek Michalkiewicz
  21:Src/Modbus_Master/crc16.h ****    Copyright (c) 2005, 2007 Joerg Wunsch
  22:Src/Modbus_Master/crc16.h ****    Copyright (c) 2013 Dave Hylands
  23:Src/Modbus_Master/crc16.h ****    Copyright (c) 2013 Frederic Nadeau
  24:Src/Modbus_Master/crc16.h ****    Copyright (c) 2015 Doc Walker
  25:Src/Modbus_Master/crc16.h ****    All rights reserved.
  26:Src/Modbus_Master/crc16.h **** 
  27:Src/Modbus_Master/crc16.h ****    Redistribution and use in source and binary forms, with or without
  28:Src/Modbus_Master/crc16.h ****    modification, are permitted provided that the following conditions are met:
  29:Src/Modbus_Master/crc16.h **** 
  30:Src/Modbus_Master/crc16.h ****    * Redistributions of source code must retain the above copyright
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 2


  31:Src/Modbus_Master/crc16.h ****      notice, this list of conditions and the following disclaimer.
  32:Src/Modbus_Master/crc16.h **** 
  33:Src/Modbus_Master/crc16.h ****    * Redistributions in binary form must reproduce the above copyright
  34:Src/Modbus_Master/crc16.h ****      notice, this list of conditions and the following disclaimer in
  35:Src/Modbus_Master/crc16.h ****      the documentation and/or other materials provided with the
  36:Src/Modbus_Master/crc16.h ****      distribution.
  37:Src/Modbus_Master/crc16.h **** 
  38:Src/Modbus_Master/crc16.h ****    * Neither the name of the copyright holders nor the names of
  39:Src/Modbus_Master/crc16.h ****      contributors may be used to endorse or promote products derived
  40:Src/Modbus_Master/crc16.h ****      from this software without specific prior written permission.
  41:Src/Modbus_Master/crc16.h **** 
  42:Src/Modbus_Master/crc16.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  43:Src/Modbus_Master/crc16.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  44:Src/Modbus_Master/crc16.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  45:Src/Modbus_Master/crc16.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  46:Src/Modbus_Master/crc16.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  47:Src/Modbus_Master/crc16.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  48:Src/Modbus_Master/crc16.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  49:Src/Modbus_Master/crc16.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  50:Src/Modbus_Master/crc16.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  51:Src/Modbus_Master/crc16.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  52:Src/Modbus_Master/crc16.h ****   POSSIBILITY OF SUCH DAMAGE. */
  53:Src/Modbus_Master/crc16.h **** 
  54:Src/Modbus_Master/crc16.h **** 
  55:Src/Modbus_Master/crc16.h **** #ifndef _UTIL_CRC16_H_
  56:Src/Modbus_Master/crc16.h **** #define _UTIL_CRC16_H_
  57:Src/Modbus_Master/crc16.h **** 
  58:Src/Modbus_Master/crc16.h **** 
  59:Src/Modbus_Master/crc16.h **** /** @ingroup util_crc16
  60:Src/Modbus_Master/crc16.h ****     Processor-independent CRC-16 calculation.
  61:Src/Modbus_Master/crc16.h **** 
  62:Src/Modbus_Master/crc16.h ****     Polynomial: x^16 + x^15 + x^2 + 1 (0xA001)<br>
  63:Src/Modbus_Master/crc16.h ****     Initial value: 0xFFFF
  64:Src/Modbus_Master/crc16.h **** 
  65:Src/Modbus_Master/crc16.h ****     This CRC is normally used in disk-drive controllers.
  66:Src/Modbus_Master/crc16.h **** 
  67:Src/Modbus_Master/crc16.h ****     @param uint16_t crc (0x0000..0xFFFF)
  68:Src/Modbus_Master/crc16.h ****     @param uint8_t a (0x00..0xFF)
  69:Src/Modbus_Master/crc16.h ****     @return calculated CRC (0x0000..0xFFFF)
  70:Src/Modbus_Master/crc16.h **** */
  71:Src/Modbus_Master/crc16.h **** static uint16_t crc16_update(uint16_t crc, uint8_t a)
  72:Src/Modbus_Master/crc16.h **** {
  29              		.loc 1 72 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  73:Src/Modbus_Master/crc16.h ****   int i;
  34              		.loc 1 73 3 view .LVU1
  74:Src/Modbus_Master/crc16.h **** 
  75:Src/Modbus_Master/crc16.h ****   crc ^= a;
  35              		.loc 1 75 3 view .LVU2
  36              		.loc 1 75 7 is_stmt 0 view .LVU3
  37 0000 4840     		eors	r0, r0, r1
  38              	.LVL1:
  76:Src/Modbus_Master/crc16.h ****   for (i = 0; i < 8; ++i)
  39              		.loc 1 76 3 is_stmt 1 view .LVU4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 3


  40              		.loc 1 76 10 is_stmt 0 view .LVU5
  41 0002 0023     		movs	r3, #0
  42              		.loc 1 76 3 view .LVU6
  43 0004 01E0     		b	.L2
  44              	.LVL2:
  45              	.L3:
  77:Src/Modbus_Master/crc16.h ****   {
  78:Src/Modbus_Master/crc16.h ****     if (crc & 1)
  79:Src/Modbus_Master/crc16.h ****       crc = (crc >> 1) ^ 0xA001;
  80:Src/Modbus_Master/crc16.h ****     else
  81:Src/Modbus_Master/crc16.h ****       crc = (crc >> 1);
  46              		.loc 1 81 7 is_stmt 1 view .LVU7
  47              		.loc 1 81 11 is_stmt 0 view .LVU8
  48 0006 4008     		lsrs	r0, r0, #1
  49              	.LVL3:
  50              	.L4:
  76:Src/Modbus_Master/crc16.h ****   for (i = 0; i < 8; ++i)
  51              		.loc 1 76 22 is_stmt 1 discriminator 2 view .LVU9
  52 0008 0133     		adds	r3, r3, #1
  53              	.LVL4:
  54              	.L2:
  76:Src/Modbus_Master/crc16.h ****   for (i = 0; i < 8; ++i)
  55              		.loc 1 76 15 discriminator 1 view .LVU10
  76:Src/Modbus_Master/crc16.h ****   for (i = 0; i < 8; ++i)
  56              		.loc 1 76 3 is_stmt 0 discriminator 1 view .LVU11
  57 000a 072B     		cmp	r3, #7
  58 000c 07DC     		bgt	.L6
  78:Src/Modbus_Master/crc16.h ****       crc = (crc >> 1) ^ 0xA001;
  59              		.loc 1 78 5 is_stmt 1 view .LVU12
  78:Src/Modbus_Master/crc16.h ****       crc = (crc >> 1) ^ 0xA001;
  60              		.loc 1 78 8 is_stmt 0 view .LVU13
  61 000e 10F0010F 		tst	r0, #1
  62 0012 F8D0     		beq	.L3
  79:Src/Modbus_Master/crc16.h ****     else
  63              		.loc 1 79 7 is_stmt 1 view .LVU14
  79:Src/Modbus_Master/crc16.h ****     else
  64              		.loc 1 79 11 is_stmt 0 view .LVU15
  65 0014 4AF20102 		movw	r2, #40961
  66 0018 82EA5000 		eor	r0, r2, r0, lsr #1
  67              	.LVL5:
  79:Src/Modbus_Master/crc16.h ****     else
  68              		.loc 1 79 11 view .LVU16
  69 001c F4E7     		b	.L4
  70              	.L6:
  82:Src/Modbus_Master/crc16.h ****   }
  83:Src/Modbus_Master/crc16.h **** 
  84:Src/Modbus_Master/crc16.h ****   return crc;
  85:Src/Modbus_Master/crc16.h **** }
  71              		.loc 1 85 1 view .LVU17
  72 001e 7047     		bx	lr
  73              		.cfi_endproc
  74              	.LFE132:
  76              		.section	.text.ModbusMaster_begin,"ax",%progbits
  77              		.align	1
  78              		.global	ModbusMaster_begin
  79              		.syntax unified
  80              		.thumb
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 4


  81              		.thumb_func
  82              		.fpu fpv4-sp-d16
  84              	ModbusMaster_begin:
  85              	.LFB138:
  86              		.file 2 "Src/Modbus_Master/modbus_master.c"
   1:Src/Modbus_Master/modbus_master.c **** #include "modbus_master.h"
   2:Src/Modbus_Master/modbus_master.c **** #include "trans_recieve_buff_control.h"
   3:Src/Modbus_Master/modbus_master.c **** 
   4:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBIllegalFunction            = 0x01;
   5:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBIllegalDataAddress         = 0x02;
   6:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBIllegalDataValue           = 0x03;
   7:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBSlaveDeviceFailure         = 0x04;
   8:Src/Modbus_Master/modbus_master.c ****  
   9:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBSuccess                    = 0x00;
  10:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBInvalidSlaveID             = 0xE0;
  11:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBInvalidFunction            = 0xE1;
  12:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBResponseTimedOut           = 0xE2;
  13:Src/Modbus_Master/modbus_master.c ****  static const uint8_t ku8MBInvalidCRC                 = 0xE3;
  14:Src/Modbus_Master/modbus_master.c ****  
  15:Src/Modbus_Master/modbus_master.c ****     uint8_t  _u8MBSlave;                                         ///< Modbus slave (1..255) initial
  16:Src/Modbus_Master/modbus_master.c ****     //static const uint8_t ku8MaxBufferSize                = 64;   ///< size of response/transmit b
  17:Src/Modbus_Master/modbus_master.c ****     #define   ku8MaxBufferSize 64
  18:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16ReadAddress;                                    ///< slave register from which to 
  19:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16ReadQty;                                        ///< quantity of words to read
  20:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16ResponseBuffer[ku8MaxBufferSize];               ///< buffer to store Modbus slave 
  21:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16WriteAddress;                                   ///< slave register to which to wr
  22:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16WriteQty;                                       ///< quantity of words to write
  23:Src/Modbus_Master/modbus_master.c ****     uint16_t _u16TransmitBuffer[ku8MaxBufferSize];               ///< buffer containing data to tra
  24:Src/Modbus_Master/modbus_master.c ****     uint16_t* txBuffer; // from Wire.h -- need to clean this up Rx
  25:Src/Modbus_Master/modbus_master.c ****     uint8_t _u8TransmitBufferIndex;
  26:Src/Modbus_Master/modbus_master.c ****     uint16_t u16TransmitBufferLength;
  27:Src/Modbus_Master/modbus_master.c ****     uint16_t* rxBuffer; // from Wire.h -- need to clean this up Rx
  28:Src/Modbus_Master/modbus_master.c ****     uint8_t _u8ResponseBufferIndex;
  29:Src/Modbus_Master/modbus_master.c ****     uint8_t _u8ResponseBufferLength;
  30:Src/Modbus_Master/modbus_master.c ****  
  31:Src/Modbus_Master/modbus_master.c ****   // Modbus function codes for bit access
  32:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBReadCoils                  = 0x01; ///< Modbus function 0x01 Read 
  33:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBReadDiscreteInputs         = 0x02; ///< Modbus function 0x02 Read 
  34:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBWriteSingleCoil            = 0x05; ///< Modbus function 0x05 Write
  35:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBWriteMultipleCoils         = 0x0F; ///< Modbus function 0x0F Write
  36:Src/Modbus_Master/modbus_master.c ****     #define ku8MBReadCoils 0x01
  37:Src/Modbus_Master/modbus_master.c ****     #define ku8MBReadDiscreteInputs 0x02
  38:Src/Modbus_Master/modbus_master.c ****     #define ku8MBWriteSingleCoil 0x05
  39:Src/Modbus_Master/modbus_master.c ****     #define ku8MBWriteMultipleCoils 0x0f
  40:Src/Modbus_Master/modbus_master.c **** 
  41:Src/Modbus_Master/modbus_master.c ****     // Modbus function codes for 16 bit access
  42:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBReadHoldingRegisters       = 0x03; ///< Modbus function 0x03 Read 
  43:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBReadInputRegisters         = 0x04; ///< Modbus function 0x04 Read 
  44:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBWriteSingleRegister        = 0x06; ///< Modbus function 0x06 Write
  45:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBWriteMultipleRegisters     = 0x10; ///< Modbus function 0x10 Write
  46:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBMaskWriteRegister          = 0x16; ///< Modbus function 0x16 Mask 
  47:Src/Modbus_Master/modbus_master.c ****     // static const uint8_t ku8MBReadWriteMultipleRegisters = 0x17; ///< Modbus function 0x17 Read 
  48:Src/Modbus_Master/modbus_master.c ****     #define ku8MBReadHoldingRegisters  0x03
  49:Src/Modbus_Master/modbus_master.c ****     #define ku8MBReadInputRegisters  0x04
  50:Src/Modbus_Master/modbus_master.c ****     #define ku8MBWriteSingleRegister  0x06
  51:Src/Modbus_Master/modbus_master.c ****     #define ku8MBWriteMultipleRegisters  0x10
  52:Src/Modbus_Master/modbus_master.c ****     #define ku8MBMaskWriteRegister  0x16
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 5


  53:Src/Modbus_Master/modbus_master.c ****     #define ku8MBReadWriteMultipleRegisters  0x17
  54:Src/Modbus_Master/modbus_master.c ****     
  55:Src/Modbus_Master/modbus_master.c ****     // Modbus timeout [milliseconds]
  56:Src/Modbus_Master/modbus_master.c ****     static const uint16_t ku16MBResponseTimeout          = 2000; ///< Modbus timeout [milliseconds]
  57:Src/Modbus_Master/modbus_master.c **** 
  58:Src/Modbus_Master/modbus_master.c **** 
  59:Src/Modbus_Master/modbus_master.c **** // idle callback function; gets called during idle time between TX and RX
  60:Src/Modbus_Master/modbus_master.c ****     void (*_idle)();
  61:Src/Modbus_Master/modbus_master.c ****     // preTransmission callback function; gets called before writing a Modbus message
  62:Src/Modbus_Master/modbus_master.c ****     void (*_preTransmission)();
  63:Src/Modbus_Master/modbus_master.c ****     // postTransmission callback function; gets called after a Modbus message has been sent
  64:Src/Modbus_Master/modbus_master.c ****     void (*_postTransmission)();
  65:Src/Modbus_Master/modbus_master.c **** 
  66:Src/Modbus_Master/modbus_master.c **** 
  67:Src/Modbus_Master/modbus_master.c ****  void ModbusMaster_begin(void)
  68:Src/Modbus_Master/modbus_master.c ****  {
  87              		.loc 2 68 2 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91 0000 08B5     		push	{r3, lr}
  92              	.LCFI0:
  93              		.cfi_def_cfa_offset 8
  94              		.cfi_offset 3, -8
  95              		.cfi_offset 14, -4
  69:Src/Modbus_Master/modbus_master.c ****   // _u8MBSlave = slave;
  70:Src/Modbus_Master/modbus_master.c **** 	 _u8TransmitBufferIndex = 0;
  96              		.loc 2 70 3 view .LVU19
  97              		.loc 2 70 26 is_stmt 0 view .LVU20
  98 0002 0023     		movs	r3, #0
  99 0004 034A     		ldr	r2, .L9
 100 0006 1370     		strb	r3, [r2]
  71:Src/Modbus_Master/modbus_master.c ****    u16TransmitBufferLength = 0;
 101              		.loc 2 71 4 is_stmt 1 view .LVU21
 102              		.loc 2 71 28 is_stmt 0 view .LVU22
 103 0008 034A     		ldr	r2, .L9+4
 104 000a 1380     		strh	r3, [r2]	@ movhi
  72:Src/Modbus_Master/modbus_master.c **** 	 //初始化环形队列
  73:Src/Modbus_Master/modbus_master.c **** 	 Modbus_Master_RB_Initialize();
 105              		.loc 2 73 3 is_stmt 1 view .LVU23
 106 000c FFF7FEFF 		bl	Modbus_Master_RB_Initialize
 107              	.LVL6:
  74:Src/Modbus_Master/modbus_master.c ****  }
 108              		.loc 2 74 2 is_stmt 0 view .LVU24
 109 0010 08BD     		pop	{r3, pc}
 110              	.L10:
 111 0012 00BF     		.align	2
 112              	.L9:
 113 0014 00000000 		.word	_u8TransmitBufferIndex
 114 0018 00000000 		.word	u16TransmitBufferLength
 115              		.cfi_endproc
 116              	.LFE138:
 118              		.section	.text.ModbusMaster_beginTransmission,"ax",%progbits
 119              		.align	1
 120              		.global	ModbusMaster_beginTransmission
 121              		.syntax unified
 122              		.thumb
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 6


 123              		.thumb_func
 124              		.fpu fpv4-sp-d16
 126              	ModbusMaster_beginTransmission:
 127              	.LVL7:
 128              	.LFB139:
  75:Src/Modbus_Master/modbus_master.c ****  
  76:Src/Modbus_Master/modbus_master.c ****  void ModbusMaster_beginTransmission(uint16_t u16Address)
  77:Src/Modbus_Master/modbus_master.c **** {
 129              		.loc 2 77 1 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		@ link register save eliminated.
  78:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16Address;
 134              		.loc 2 78 3 view .LVU26
 135              		.loc 2 78 20 is_stmt 0 view .LVU27
 136 0000 034B     		ldr	r3, .L12
 137 0002 1880     		strh	r0, [r3]	@ movhi
  79:Src/Modbus_Master/modbus_master.c ****   _u8TransmitBufferIndex = 0;
 138              		.loc 2 79 3 is_stmt 1 view .LVU28
 139              		.loc 2 79 26 is_stmt 0 view .LVU29
 140 0004 0023     		movs	r3, #0
 141 0006 034A     		ldr	r2, .L12+4
 142 0008 1370     		strb	r3, [r2]
  80:Src/Modbus_Master/modbus_master.c ****   u16TransmitBufferLength = 0;
 143              		.loc 2 80 3 is_stmt 1 view .LVU30
 144              		.loc 2 80 27 is_stmt 0 view .LVU31
 145 000a 034A     		ldr	r2, .L12+8
 146 000c 1380     		strh	r3, [r2]	@ movhi
  81:Src/Modbus_Master/modbus_master.c **** }
 147              		.loc 2 81 1 view .LVU32
 148 000e 7047     		bx	lr
 149              	.L13:
 150              		.align	2
 151              	.L12:
 152 0010 00000000 		.word	_u16WriteAddress
 153 0014 00000000 		.word	_u8TransmitBufferIndex
 154 0018 00000000 		.word	u16TransmitBufferLength
 155              		.cfi_endproc
 156              	.LFE139:
 158              		.section	.text.ModbusMaster_requestFrom,"ax",%progbits
 159              		.align	1
 160              		.global	ModbusMaster_requestFrom
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 164              		.fpu fpv4-sp-d16
 166              	ModbusMaster_requestFrom:
 167              	.LVL8:
 168              	.LFB140:
  82:Src/Modbus_Master/modbus_master.c **** 
  83:Src/Modbus_Master/modbus_master.c **** // eliminate this function in favor of using existing MB request functions
  84:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_requestFrom(uint16_t address, uint16_t quantity)
  85:Src/Modbus_Master/modbus_master.c **** {
 169              		.loc 2 85 1 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 7


 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173              		@ link register save eliminated.
 174              		.loc 2 85 1 is_stmt 0 view .LVU34
 175 0000 0020     		movs	r0, #0
 176              	.LVL9:
  86:Src/Modbus_Master/modbus_master.c ****   uint8_t read;
 177              		.loc 2 86 3 is_stmt 1 view .LVU35
  87:Src/Modbus_Master/modbus_master.c ****   // clamp to buffer length
  88:Src/Modbus_Master/modbus_master.c ****   if (quantity > ku8MaxBufferSize)
 178              		.loc 2 88 3 view .LVU36
  89:Src/Modbus_Master/modbus_master.c ****   {
  90:Src/Modbus_Master/modbus_master.c ****     quantity = ku8MaxBufferSize;
  91:Src/Modbus_Master/modbus_master.c ****   }
  92:Src/Modbus_Master/modbus_master.c ****   // set rx buffer iterator vars
  93:Src/Modbus_Master/modbus_master.c ****   _u8ResponseBufferIndex = 0;
 179              		.loc 2 93 3 view .LVU37
 180              		.loc 2 93 26 is_stmt 0 view .LVU38
 181 0002 024B     		ldr	r3, .L15
 182 0004 1870     		strb	r0, [r3]
  94:Src/Modbus_Master/modbus_master.c ****   _u8ResponseBufferLength = read;
 183              		.loc 2 94 3 is_stmt 1 view .LVU39
 184              		.loc 2 94 27 is_stmt 0 view .LVU40
 185 0006 024B     		ldr	r3, .L15+4
 186 0008 1870     		strb	r0, [r3]
  95:Src/Modbus_Master/modbus_master.c **** 
  96:Src/Modbus_Master/modbus_master.c ****   return read;
 187              		.loc 2 96 3 is_stmt 1 view .LVU41
  97:Src/Modbus_Master/modbus_master.c **** }
 188              		.loc 2 97 1 is_stmt 0 view .LVU42
 189 000a 7047     		bx	lr
 190              	.L16:
 191              		.align	2
 192              	.L15:
 193 000c 00000000 		.word	_u8ResponseBufferIndex
 194 0010 00000000 		.word	_u8ResponseBufferLength
 195              		.cfi_endproc
 196              	.LFE140:
 198              		.section	.text.ModbusMaster_sendBit,"ax",%progbits
 199              		.align	1
 200              		.global	ModbusMaster_sendBit
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 204              		.fpu fpv4-sp-d16
 206              	ModbusMaster_sendBit:
 207              	.LVL10:
 208              	.LFB141:
  98:Src/Modbus_Master/modbus_master.c **** 
  99:Src/Modbus_Master/modbus_master.c **** 
 100:Src/Modbus_Master/modbus_master.c **** void  ModbusMaster_sendBit(uint8_t data)
 101:Src/Modbus_Master/modbus_master.c **** {
 209              		.loc 2 101 1 is_stmt 1 view -0
 210              		.cfi_startproc
 211              		@ args = 0, pretend = 0, frame = 0
 212              		@ frame_needed = 0, uses_anonymous_args = 0
 213              		@ link register save eliminated.
 102:Src/Modbus_Master/modbus_master.c ****   uint8_t txBitIndex = u16TransmitBufferLength % 16;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 8


 214              		.loc 2 102 3 view .LVU44
 215              		.loc 2 102 48 is_stmt 0 view .LVU45
 216 0000 184B     		ldr	r3, .L26
 217 0002 1B88     		ldrh	r3, [r3]
 218              	.LVL11:
 103:Src/Modbus_Master/modbus_master.c ****   if ((u16TransmitBufferLength >> 4) < ku8MaxBufferSize)
 219              		.loc 2 103 3 is_stmt 1 view .LVU46
 220              		.loc 2 103 6 is_stmt 0 view .LVU47
 221 0004 B3F5806F 		cmp	r3, #1024
 222 0008 2AD2     		bcs	.L23
 101:Src/Modbus_Master/modbus_master.c ****   uint8_t txBitIndex = u16TransmitBufferLength % 16;
 223              		.loc 2 101 1 view .LVU48
 224 000a 30B4     		push	{r4, r5}
 225              	.LCFI1:
 226              		.cfi_def_cfa_offset 8
 227              		.cfi_offset 4, -8
 228              		.cfi_offset 5, -4
 229 000c 03F00F02 		and	r2, r3, #15
 104:Src/Modbus_Master/modbus_master.c ****   {
 105:Src/Modbus_Master/modbus_master.c ****     if (0 == txBitIndex)
 230              		.loc 2 105 5 is_stmt 1 view .LVU49
 231              		.loc 2 105 8 is_stmt 0 view .LVU50
 232 0010 2AB9     		cbnz	r2, .L19
 106:Src/Modbus_Master/modbus_master.c ****     {
 107:Src/Modbus_Master/modbus_master.c ****       _u16TransmitBuffer[_u8TransmitBufferIndex] = 0;
 233              		.loc 2 107 7 is_stmt 1 view .LVU51
 234              		.loc 2 107 25 is_stmt 0 view .LVU52
 235 0012 1549     		ldr	r1, .L26+4
 236 0014 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 237              		.loc 2 107 50 view .LVU53
 238 0016 1549     		ldr	r1, .L26+8
 239 0018 0025     		movs	r5, #0
 240 001a 21F81450 		strh	r5, [r1, r4, lsl #1]	@ movhi
 241              	.L19:
 108:Src/Modbus_Master/modbus_master.c ****     }
 109:Src/Modbus_Master/modbus_master.c ****     bitWrite(_u16TransmitBuffer[_u8TransmitBufferIndex], txBitIndex, data);
 242              		.loc 2 109 5 is_stmt 1 view .LVU54
 243 001e 98B1     		cbz	r0, .L20
 244              		.loc 2 109 5 is_stmt 0 discriminator 1 view .LVU55
 245 0020 1149     		ldr	r1, .L26+4
 246 0022 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 247              	.LVL12:
 248              		.loc 2 109 5 discriminator 1 view .LVU56
 249 0024 0121     		movs	r1, #1
 250 0026 01FA02F2 		lsl	r2, r1, r2
 251 002a 1049     		ldr	r1, .L26+8
 252 002c 31F81040 		ldrh	r4, [r1, r0, lsl #1]
 253 0030 2243     		orrs	r2, r2, r4
 254 0032 21F81020 		strh	r2, [r1, r0, lsl #1]	@ movhi
 255              	.L21:
 110:Src/Modbus_Master/modbus_master.c ****     u16TransmitBufferLength++;
 256              		.loc 2 110 5 is_stmt 1 view .LVU57
 257              		.loc 2 110 28 is_stmt 0 view .LVU58
 258 0036 0133     		adds	r3, r3, #1
 259              	.LVL13:
 260              		.loc 2 110 28 view .LVU59
 261 0038 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 9


 262              	.LVL14:
 263              		.loc 2 110 28 view .LVU60
 264 003a 0A4A     		ldr	r2, .L26
 265              	.LVL15:
 266              		.loc 2 110 28 view .LVU61
 267 003c 1380     		strh	r3, [r2]	@ movhi
 268              	.LVL16:
 111:Src/Modbus_Master/modbus_master.c ****     _u8TransmitBufferIndex = u16TransmitBufferLength >> 4;
 269              		.loc 2 111 5 is_stmt 1 view .LVU62
 270              		.loc 2 111 28 is_stmt 0 view .LVU63
 271 003e 1B09     		lsrs	r3, r3, #4
 272 0040 094A     		ldr	r2, .L26+4
 273 0042 1370     		strb	r3, [r2]
 112:Src/Modbus_Master/modbus_master.c ****   }
 113:Src/Modbus_Master/modbus_master.c **** }
 274              		.loc 2 113 1 view .LVU64
 275 0044 30BC     		pop	{r4, r5}
 276              	.LCFI2:
 277              		.cfi_remember_state
 278              		.cfi_restore 5
 279              		.cfi_restore 4
 280              		.cfi_def_cfa_offset 0
 281 0046 7047     		bx	lr
 282              	.LVL17:
 283              	.L20:
 284              	.LCFI3:
 285              		.cfi_restore_state
 109:Src/Modbus_Master/modbus_master.c ****     u16TransmitBufferLength++;
 286              		.loc 2 109 5 discriminator 2 view .LVU65
 287 0048 0749     		ldr	r1, .L26+4
 288 004a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 289 004c 0121     		movs	r1, #1
 290 004e 9140     		lsls	r1, r1, r2
 291 0050 0648     		ldr	r0, .L26+8
 292              	.LVL18:
 109:Src/Modbus_Master/modbus_master.c ****     u16TransmitBufferLength++;
 293              		.loc 2 109 5 discriminator 2 view .LVU66
 294 0052 30F81420 		ldrh	r2, [r0, r4, lsl #1]
 295 0056 22EA0102 		bic	r2, r2, r1
 296 005a 20F81420 		strh	r2, [r0, r4, lsl #1]	@ movhi
 297 005e EAE7     		b	.L21
 298              	.LVL19:
 299              	.L23:
 300              	.LCFI4:
 301              		.cfi_def_cfa_offset 0
 302              		.cfi_restore 4
 303              		.cfi_restore 5
 109:Src/Modbus_Master/modbus_master.c ****     u16TransmitBufferLength++;
 304              		.loc 2 109 5 discriminator 2 view .LVU67
 305 0060 7047     		bx	lr
 306              	.L27:
 307 0062 00BF     		.align	2
 308              	.L26:
 309 0064 00000000 		.word	u16TransmitBufferLength
 310 0068 00000000 		.word	_u8TransmitBufferIndex
 311 006c 00000000 		.word	_u16TransmitBuffer
 312              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 10


 313              	.LFE141:
 315              		.section	.text.ModbusMaster_send16,"ax",%progbits
 316              		.align	1
 317              		.global	ModbusMaster_send16
 318              		.syntax unified
 319              		.thumb
 320              		.thumb_func
 321              		.fpu fpv4-sp-d16
 323              	ModbusMaster_send16:
 324              	.LVL20:
 325              	.LFB142:
 114:Src/Modbus_Master/modbus_master.c **** 
 115:Src/Modbus_Master/modbus_master.c **** void ModbusMaster_send16(uint16_t data)
 116:Src/Modbus_Master/modbus_master.c **** {
 326              		.loc 2 116 1 is_stmt 1 view -0
 327              		.cfi_startproc
 328              		@ args = 0, pretend = 0, frame = 0
 329              		@ frame_needed = 0, uses_anonymous_args = 0
 330              		@ link register save eliminated.
 117:Src/Modbus_Master/modbus_master.c ****   if (_u8TransmitBufferIndex < ku8MaxBufferSize)
 331              		.loc 2 117 3 view .LVU69
 332              		.loc 2 117 30 is_stmt 0 view .LVU70
 333 0000 074B     		ldr	r3, .L30
 334 0002 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 335              		.loc 2 117 6 view .LVU71
 336 0004 3F2A     		cmp	r2, #63
 337 0006 09D8     		bhi	.L28
 118:Src/Modbus_Master/modbus_master.c ****   {
 119:Src/Modbus_Master/modbus_master.c ****     _u16TransmitBuffer[_u8TransmitBufferIndex++] = data;
 338              		.loc 2 119 5 is_stmt 1 view .LVU72
 339              		.loc 2 119 46 is_stmt 0 view .LVU73
 340 0008 531C     		adds	r3, r2, #1
 341 000a DBB2     		uxtb	r3, r3
 342 000c 0449     		ldr	r1, .L30
 343 000e 0B70     		strb	r3, [r1]
 344              		.loc 2 119 50 view .LVU74
 345 0010 0449     		ldr	r1, .L30+4
 346 0012 21F81200 		strh	r0, [r1, r2, lsl #1]	@ movhi
 120:Src/Modbus_Master/modbus_master.c ****     u16TransmitBufferLength = _u8TransmitBufferIndex << 4;
 347              		.loc 2 120 5 is_stmt 1 view .LVU75
 348              		.loc 2 120 54 is_stmt 0 view .LVU76
 349 0016 1B01     		lsls	r3, r3, #4
 350              		.loc 2 120 29 view .LVU77
 351 0018 034A     		ldr	r2, .L30+8
 352 001a 1380     		strh	r3, [r2]	@ movhi
 353              	.L28:
 121:Src/Modbus_Master/modbus_master.c ****   }
 122:Src/Modbus_Master/modbus_master.c **** }
 354              		.loc 2 122 1 view .LVU78
 355 001c 7047     		bx	lr
 356              	.L31:
 357 001e 00BF     		.align	2
 358              	.L30:
 359 0020 00000000 		.word	_u8TransmitBufferIndex
 360 0024 00000000 		.word	_u16TransmitBuffer
 361 0028 00000000 		.word	u16TransmitBufferLength
 362              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 11


 363              	.LFE142:
 365              		.section	.text.ModbusMaster_send32,"ax",%progbits
 366              		.align	1
 367              		.global	ModbusMaster_send32
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu fpv4-sp-d16
 373              	ModbusMaster_send32:
 374              	.LVL21:
 375              	.LFB143:
 123:Src/Modbus_Master/modbus_master.c **** 
 124:Src/Modbus_Master/modbus_master.c **** void ModbusMaster_send32(uint32_t data)
 125:Src/Modbus_Master/modbus_master.c **** {
 376              		.loc 2 125 1 is_stmt 1 view -0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380              		.loc 2 125 1 is_stmt 0 view .LVU80
 381 0000 10B5     		push	{r4, lr}
 382              	.LCFI5:
 383              		.cfi_def_cfa_offset 8
 384              		.cfi_offset 4, -8
 385              		.cfi_offset 14, -4
 386 0002 0446     		mov	r4, r0
 126:Src/Modbus_Master/modbus_master.c ****   ModbusMaster_send16(lowWord(data));
 387              		.loc 2 126 3 is_stmt 1 view .LVU81
 388              	.LVL22:
 389              	.LBB68:
 390              	.LBI68:
 391              		.file 3 "Src/Modbus_Master/word.h"
   1:Src/Modbus_Master/word.h **** /**
   2:Src/Modbus_Master/word.h **** @file
   3:Src/Modbus_Master/word.h **** Utility Functions for Manipulating Words
   4:Src/Modbus_Master/word.h **** 
   5:Src/Modbus_Master/word.h **** @defgroup util_word "util/word.h": Utility Functions for Manipulating Words
   6:Src/Modbus_Master/word.h **** @code#include "util/word.h"@endcode
   7:Src/Modbus_Master/word.h **** 
   8:Src/Modbus_Master/word.h **** This header file provides utility functions for manipulating words.
   9:Src/Modbus_Master/word.h **** 
  10:Src/Modbus_Master/word.h **** */
  11:Src/Modbus_Master/word.h **** /*
  12:Src/Modbus_Master/word.h **** 
  13:Src/Modbus_Master/word.h ****   word.h - Utility Functions for Manipulating Words
  14:Src/Modbus_Master/word.h **** 
  15:Src/Modbus_Master/word.h ****   This file is part of ModbusMaster.
  16:Src/Modbus_Master/word.h **** 
  17:Src/Modbus_Master/word.h ****   ModbusMaster is free software: you can redistribute it and/or modify
  18:Src/Modbus_Master/word.h ****   it under the terms of the GNU General Public License as published by
  19:Src/Modbus_Master/word.h ****   the Free Software Foundation, either version 3 of the License, or
  20:Src/Modbus_Master/word.h ****   (at your option) any later version.
  21:Src/Modbus_Master/word.h **** 
  22:Src/Modbus_Master/word.h ****   ModbusMaster is distributed in the hope that it will be useful,
  23:Src/Modbus_Master/word.h ****   but WITHOUT ANY WARRANTY; without even the implied warranty of
  24:Src/Modbus_Master/word.h ****   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  25:Src/Modbus_Master/word.h ****   GNU General Public License for more details.
  26:Src/Modbus_Master/word.h **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 12


  27:Src/Modbus_Master/word.h ****   You should have received a copy of the GNU General Public License
  28:Src/Modbus_Master/word.h ****   along with ModbusMaster.  If not, see <http://www.gnu.org/licenses/>.
  29:Src/Modbus_Master/word.h **** 
  30:Src/Modbus_Master/word.h ****   Written by Doc Walker (Rx)
  31:Src/Modbus_Master/word.h ****   Copyright 漏 2009-2015 Doc Walker <4-20ma at wvfans dot net>
  32:Src/Modbus_Master/word.h **** 
  33:Src/Modbus_Master/word.h **** */
  34:Src/Modbus_Master/word.h **** 
  35:Src/Modbus_Master/word.h **** 
  36:Src/Modbus_Master/word.h **** #ifndef _UTIL_WORD_H_
  37:Src/Modbus_Master/word.h **** #define _UTIL_WORD_H_
  38:Src/Modbus_Master/word.h **** 
  39:Src/Modbus_Master/word.h **** #include "bsp_board.h"
  40:Src/Modbus_Master/word.h **** 
  41:Src/Modbus_Master/word.h **** /** @ingroup util_word
  42:Src/Modbus_Master/word.h ****     Return low word of a 32-bit integer.
  43:Src/Modbus_Master/word.h **** 
  44:Src/Modbus_Master/word.h ****     @param uint32_t ww (0x00000000..0xFFFFFFFF)
  45:Src/Modbus_Master/word.h ****     @return low word of input (0x0000..0xFFFF)
  46:Src/Modbus_Master/word.h **** */
  47:Src/Modbus_Master/word.h **** static inline uint16_t lowWord(uint32_t ww)
 392              		.loc 3 47 24 view .LVU82
 393              	.LBB69:
  48:Src/Modbus_Master/word.h **** {
  49:Src/Modbus_Master/word.h ****   return (uint16_t) ((ww) & 0xFFFF);
 394              		.loc 3 49 3 view .LVU83
 395              		.loc 3 49 3 is_stmt 0 view .LVU84
 396              	.LBE69:
 397              	.LBE68:
 398              		.loc 2 126 3 view .LVU85
 399 0004 80B2     		uxth	r0, r0
 400              	.LVL23:
 401              		.loc 2 126 3 view .LVU86
 402 0006 FFF7FEFF 		bl	ModbusMaster_send16
 403              	.LVL24:
 127:Src/Modbus_Master/modbus_master.c ****   ModbusMaster_send16(highWord(data));
 404              		.loc 2 127 3 is_stmt 1 view .LVU87
 405              	.LBB70:
 406              	.LBI70:
  50:Src/Modbus_Master/word.h **** }
  51:Src/Modbus_Master/word.h **** 
  52:Src/Modbus_Master/word.h **** 
  53:Src/Modbus_Master/word.h **** /** @ingroup util_word
  54:Src/Modbus_Master/word.h ****     Return high word of a 32-bit integer.
  55:Src/Modbus_Master/word.h **** 
  56:Src/Modbus_Master/word.h ****     @param uint32_t ww (0x00000000..0xFFFFFFFF)
  57:Src/Modbus_Master/word.h ****     @return high word of input (0x0000..0xFFFF)
  58:Src/Modbus_Master/word.h **** */
  59:Src/Modbus_Master/word.h **** static inline uint16_t highWord(uint32_t ww)
 407              		.loc 3 59 24 view .LVU88
 408              	.LBB71:
  60:Src/Modbus_Master/word.h **** {
  61:Src/Modbus_Master/word.h ****   return (uint16_t) ((ww) >> 16);
 409              		.loc 3 61 3 view .LVU89
 410              		.loc 3 61 3 is_stmt 0 view .LVU90
 411              	.LBE71:
 412              	.LBE70:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 13


 413              		.loc 2 127 3 view .LVU91
 414 000a 200C     		lsrs	r0, r4, #16
 415 000c FFF7FEFF 		bl	ModbusMaster_send16
 416              	.LVL25:
 128:Src/Modbus_Master/modbus_master.c **** }
 417              		.loc 2 128 1 view .LVU92
 418 0010 10BD     		pop	{r4, pc}
 419              		.loc 2 128 1 view .LVU93
 420              		.cfi_endproc
 421              	.LFE143:
 423              		.section	.text.ModbusMaster_send8,"ax",%progbits
 424              		.align	1
 425              		.global	ModbusMaster_send8
 426              		.syntax unified
 427              		.thumb
 428              		.thumb_func
 429              		.fpu fpv4-sp-d16
 431              	ModbusMaster_send8:
 432              	.LVL26:
 433              	.LFB144:
 129:Src/Modbus_Master/modbus_master.c **** 
 130:Src/Modbus_Master/modbus_master.c **** void ModbusMaster_send8(uint8_t data)
 131:Src/Modbus_Master/modbus_master.c **** {
 434              		.loc 2 131 1 is_stmt 1 view -0
 435              		.cfi_startproc
 436              		@ args = 0, pretend = 0, frame = 0
 437              		@ frame_needed = 0, uses_anonymous_args = 0
 438              		.loc 2 131 1 is_stmt 0 view .LVU95
 439 0000 08B5     		push	{r3, lr}
 440              	.LCFI6:
 441              		.cfi_def_cfa_offset 8
 442              		.cfi_offset 3, -8
 443              		.cfi_offset 14, -4
 132:Src/Modbus_Master/modbus_master.c ****   ModbusMaster_send16((uint16_t)(data));
 444              		.loc 2 132 3 is_stmt 1 view .LVU96
 445 0002 FFF7FEFF 		bl	ModbusMaster_send16
 446              	.LVL27:
 133:Src/Modbus_Master/modbus_master.c **** }
 447              		.loc 2 133 1 is_stmt 0 view .LVU97
 448 0006 08BD     		pop	{r3, pc}
 449              		.cfi_endproc
 450              	.LFE144:
 452              		.section	.text.ModbusMaster_available,"ax",%progbits
 453              		.align	1
 454              		.global	ModbusMaster_available
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv4-sp-d16
 460              	ModbusMaster_available:
 461              	.LFB145:
 134:Src/Modbus_Master/modbus_master.c **** 
 135:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_available(void)
 136:Src/Modbus_Master/modbus_master.c **** {
 462              		.loc 2 136 1 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 14


 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466              		@ link register save eliminated.
 137:Src/Modbus_Master/modbus_master.c ****   return _u8ResponseBufferLength - _u8ResponseBufferIndex;
 467              		.loc 2 137 3 view .LVU99
 468              		.loc 2 137 34 is_stmt 0 view .LVU100
 469 0000 034B     		ldr	r3, .L37
 470 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 471 0004 034B     		ldr	r3, .L37+4
 472 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 473 0008 C01A     		subs	r0, r0, r3
 138:Src/Modbus_Master/modbus_master.c **** }
 474              		.loc 2 138 1 view .LVU101
 475 000a C0B2     		uxtb	r0, r0
 476 000c 7047     		bx	lr
 477              	.L38:
 478 000e 00BF     		.align	2
 479              	.L37:
 480 0010 00000000 		.word	_u8ResponseBufferLength
 481 0014 00000000 		.word	_u8ResponseBufferIndex
 482              		.cfi_endproc
 483              	.LFE145:
 485              		.section	.text.ModbusMaster_receive,"ax",%progbits
 486              		.align	1
 487              		.global	ModbusMaster_receive
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 491              		.fpu fpv4-sp-d16
 493              	ModbusMaster_receive:
 494              	.LFB146:
 139:Src/Modbus_Master/modbus_master.c **** 
 140:Src/Modbus_Master/modbus_master.c **** 
 141:Src/Modbus_Master/modbus_master.c **** uint16_t ModbusMaster_receive(void)
 142:Src/Modbus_Master/modbus_master.c **** {
 495              		.loc 2 142 1 is_stmt 1 view -0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 0
 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              		@ link register save eliminated.
 143:Src/Modbus_Master/modbus_master.c ****   if (_u8ResponseBufferIndex < _u8ResponseBufferLength)
 500              		.loc 2 143 3 view .LVU103
 501              		.loc 2 143 30 is_stmt 0 view .LVU104
 502 0000 074B     		ldr	r3, .L42
 503 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 504 0004 074A     		ldr	r2, .L42+4
 505 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 506              		.loc 2 143 6 view .LVU105
 507 0008 9342     		cmp	r3, r2
 508 000a 06D2     		bcs	.L41
 144:Src/Modbus_Master/modbus_master.c ****   {
 145:Src/Modbus_Master/modbus_master.c ****     return _u16ResponseBuffer[_u8ResponseBufferIndex++];
 509              		.loc 2 145 5 is_stmt 1 view .LVU106
 510              		.loc 2 145 53 is_stmt 0 view .LVU107
 511 000c 591C     		adds	r1, r3, #1
 512 000e 044A     		ldr	r2, .L42
 513 0010 1170     		strb	r1, [r2]
 514              		.loc 2 145 30 view .LVU108
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 15


 515 0012 054A     		ldr	r2, .L42+8
 516 0014 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 517 0018 7047     		bx	lr
 518              	.L41:
 146:Src/Modbus_Master/modbus_master.c ****   }
 147:Src/Modbus_Master/modbus_master.c ****   else
 148:Src/Modbus_Master/modbus_master.c ****   {
 149:Src/Modbus_Master/modbus_master.c ****     return 0xFFFF;
 519              		.loc 2 149 12 view .LVU109
 520 001a 4FF6FF70 		movw	r0, #65535
 150:Src/Modbus_Master/modbus_master.c ****   }
 151:Src/Modbus_Master/modbus_master.c **** }
 521              		.loc 2 151 1 view .LVU110
 522 001e 7047     		bx	lr
 523              	.L43:
 524              		.align	2
 525              	.L42:
 526 0020 00000000 		.word	_u8ResponseBufferIndex
 527 0024 00000000 		.word	_u8ResponseBufferLength
 528 0028 00000000 		.word	_u16ResponseBuffer
 529              		.cfi_endproc
 530              	.LFE146:
 532              		.section	.text.ModbusMaster_getResponseBuffer,"ax",%progbits
 533              		.align	1
 534              		.global	ModbusMaster_getResponseBuffer
 535              		.syntax unified
 536              		.thumb
 537              		.thumb_func
 538              		.fpu fpv4-sp-d16
 540              	ModbusMaster_getResponseBuffer:
 541              	.LVL28:
 542              	.LFB147:
 152:Src/Modbus_Master/modbus_master.c **** 
 153:Src/Modbus_Master/modbus_master.c **** 
 154:Src/Modbus_Master/modbus_master.c **** /**
 155:Src/Modbus_Master/modbus_master.c **** Retrieve data from response buffer.
 156:Src/Modbus_Master/modbus_master.c **** 
 157:Src/Modbus_Master/modbus_master.c **** @see ModbusMaster::clearResponseBuffer()
 158:Src/Modbus_Master/modbus_master.c **** @param u8Index index of response buffer array (0x00..0x3F)
 159:Src/Modbus_Master/modbus_master.c **** @return value in position u8Index of response buffer (0x0000..0xFFFF)
 160:Src/Modbus_Master/modbus_master.c **** @ingroup buffer
 161:Src/Modbus_Master/modbus_master.c **** */
 162:Src/Modbus_Master/modbus_master.c **** uint16_t ModbusMaster_getResponseBuffer(uint8_t u8Index)
 163:Src/Modbus_Master/modbus_master.c **** {
 543              		.loc 2 163 1 is_stmt 1 view -0
 544              		.cfi_startproc
 545              		@ args = 0, pretend = 0, frame = 0
 546              		@ frame_needed = 0, uses_anonymous_args = 0
 547              		@ link register save eliminated.
 164:Src/Modbus_Master/modbus_master.c ****   if (u8Index < ku8MaxBufferSize)
 548              		.loc 2 164 3 view .LVU112
 549              		.loc 2 164 6 is_stmt 0 view .LVU113
 550 0000 3F28     		cmp	r0, #63
 551 0002 03D8     		bhi	.L46
 165:Src/Modbus_Master/modbus_master.c ****   {
 166:Src/Modbus_Master/modbus_master.c ****     return _u16ResponseBuffer[u8Index];
 552              		.loc 2 166 5 is_stmt 1 view .LVU114
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 16


 553              		.loc 2 166 30 is_stmt 0 view .LVU115
 554 0004 034B     		ldr	r3, .L47
 555 0006 33F81000 		ldrh	r0, [r3, r0, lsl #1]
 556              	.LVL29:
 557              		.loc 2 166 30 view .LVU116
 558 000a 7047     		bx	lr
 559              	.LVL30:
 560              	.L46:
 167:Src/Modbus_Master/modbus_master.c ****   }
 168:Src/Modbus_Master/modbus_master.c ****   else
 169:Src/Modbus_Master/modbus_master.c ****   {
 170:Src/Modbus_Master/modbus_master.c ****     return 0xFFFF;
 561              		.loc 2 170 12 view .LVU117
 562 000c 4FF6FF70 		movw	r0, #65535
 563              	.LVL31:
 171:Src/Modbus_Master/modbus_master.c ****   }
 172:Src/Modbus_Master/modbus_master.c **** }
 564              		.loc 2 172 1 view .LVU118
 565 0010 7047     		bx	lr
 566              	.L48:
 567 0012 00BF     		.align	2
 568              	.L47:
 569 0014 00000000 		.word	_u16ResponseBuffer
 570              		.cfi_endproc
 571              	.LFE147:
 573              		.section	.text.ModbusMaster_clearResponseBuffer,"ax",%progbits
 574              		.align	1
 575              		.global	ModbusMaster_clearResponseBuffer
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 579              		.fpu fpv4-sp-d16
 581              	ModbusMaster_clearResponseBuffer:
 582              	.LFB148:
 173:Src/Modbus_Master/modbus_master.c **** 
 174:Src/Modbus_Master/modbus_master.c **** 
 175:Src/Modbus_Master/modbus_master.c **** /**
 176:Src/Modbus_Master/modbus_master.c **** Clear Modbus response buffer.
 177:Src/Modbus_Master/modbus_master.c **** 
 178:Src/Modbus_Master/modbus_master.c **** @see ModbusMaster::getResponseBuffer(uint8_t u8Index)
 179:Src/Modbus_Master/modbus_master.c **** @ingroup buffer
 180:Src/Modbus_Master/modbus_master.c **** */
 181:Src/Modbus_Master/modbus_master.c **** void ModbusMaster_clearResponseBuffer()
 182:Src/Modbus_Master/modbus_master.c **** {
 583              		.loc 2 182 1 is_stmt 1 view -0
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 0
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              		@ link register save eliminated.
 183:Src/Modbus_Master/modbus_master.c ****   uint8_t i;
 588              		.loc 2 183 3 view .LVU120
 184:Src/Modbus_Master/modbus_master.c ****   
 185:Src/Modbus_Master/modbus_master.c ****   for (i = 0; i < ku8MaxBufferSize; i++)
 589              		.loc 2 185 3 view .LVU121
 590              	.LVL32:
 591              		.loc 2 185 10 is_stmt 0 view .LVU122
 592 0000 0023     		movs	r3, #0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 17


 593              		.loc 2 185 3 view .LVU123
 594 0002 05E0     		b	.L50
 595              	.LVL33:
 596              	.L51:
 186:Src/Modbus_Master/modbus_master.c ****   {
 187:Src/Modbus_Master/modbus_master.c ****     _u16ResponseBuffer[i] = 0;
 597              		.loc 2 187 5 is_stmt 1 discriminator 3 view .LVU124
 598              		.loc 2 187 27 is_stmt 0 discriminator 3 view .LVU125
 599 0004 044A     		ldr	r2, .L52
 600 0006 0021     		movs	r1, #0
 601 0008 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 185:Src/Modbus_Master/modbus_master.c ****   {
 602              		.loc 2 185 37 is_stmt 1 discriminator 3 view .LVU126
 185:Src/Modbus_Master/modbus_master.c ****   {
 603              		.loc 2 185 38 is_stmt 0 discriminator 3 view .LVU127
 604 000c 0133     		adds	r3, r3, #1
 605              	.LVL34:
 185:Src/Modbus_Master/modbus_master.c ****   {
 606              		.loc 2 185 38 discriminator 3 view .LVU128
 607 000e DBB2     		uxtb	r3, r3
 608              	.LVL35:
 609              	.L50:
 185:Src/Modbus_Master/modbus_master.c ****   {
 610              		.loc 2 185 15 is_stmt 1 discriminator 1 view .LVU129
 185:Src/Modbus_Master/modbus_master.c ****   {
 611              		.loc 2 185 3 is_stmt 0 discriminator 1 view .LVU130
 612 0010 3F2B     		cmp	r3, #63
 613 0012 F7D9     		bls	.L51
 188:Src/Modbus_Master/modbus_master.c ****   }
 189:Src/Modbus_Master/modbus_master.c **** }
 614              		.loc 2 189 1 view .LVU131
 615 0014 7047     		bx	lr
 616              	.L53:
 617 0016 00BF     		.align	2
 618              	.L52:
 619 0018 00000000 		.word	_u16ResponseBuffer
 620              		.cfi_endproc
 621              	.LFE148:
 623              		.section	.text.ModbusMaster_setTransmitBuffer,"ax",%progbits
 624              		.align	1
 625              		.global	ModbusMaster_setTransmitBuffer
 626              		.syntax unified
 627              		.thumb
 628              		.thumb_func
 629              		.fpu fpv4-sp-d16
 631              	ModbusMaster_setTransmitBuffer:
 632              	.LVL36:
 633              	.LFB149:
 190:Src/Modbus_Master/modbus_master.c **** 
 191:Src/Modbus_Master/modbus_master.c **** 
 192:Src/Modbus_Master/modbus_master.c **** /**
 193:Src/Modbus_Master/modbus_master.c **** Place data in transmit buffer.
 194:Src/Modbus_Master/modbus_master.c **** 
 195:Src/Modbus_Master/modbus_master.c **** @see ModbusMaster::clearTransmitBuffer()
 196:Src/Modbus_Master/modbus_master.c **** @param u8Index index of transmit buffer array (0x00..0x3F)
 197:Src/Modbus_Master/modbus_master.c **** @param u16Value value to place in position u8Index of transmit buffer (0x0000..0xFFFF)
 198:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 18


 199:Src/Modbus_Master/modbus_master.c **** @ingroup buffer
 200:Src/Modbus_Master/modbus_master.c **** */
 201:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_setTransmitBuffer(uint8_t u8Index, uint16_t u16Value)
 202:Src/Modbus_Master/modbus_master.c **** {
 634              		.loc 2 202 1 is_stmt 1 view -0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 0
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              		@ link register save eliminated.
 203:Src/Modbus_Master/modbus_master.c ****   if (u8Index < ku8MaxBufferSize)
 639              		.loc 2 203 3 view .LVU133
 640              		.loc 2 203 6 is_stmt 0 view .LVU134
 641 0000 3F28     		cmp	r0, #63
 642 0002 04D8     		bhi	.L56
 204:Src/Modbus_Master/modbus_master.c ****   {
 205:Src/Modbus_Master/modbus_master.c ****     _u16TransmitBuffer[u8Index] = u16Value;
 643              		.loc 2 205 5 is_stmt 1 view .LVU135
 644              		.loc 2 205 33 is_stmt 0 view .LVU136
 645 0004 034B     		ldr	r3, .L57
 646 0006 23F81010 		strh	r1, [r3, r0, lsl #1]	@ movhi
 206:Src/Modbus_Master/modbus_master.c ****     return ku8MBSuccess;
 647              		.loc 2 206 5 is_stmt 1 view .LVU137
 648              		.loc 2 206 12 is_stmt 0 view .LVU138
 649 000a 0020     		movs	r0, #0
 650              	.LVL37:
 651              		.loc 2 206 12 view .LVU139
 652 000c 7047     		bx	lr
 653              	.LVL38:
 654              	.L56:
 207:Src/Modbus_Master/modbus_master.c ****   }
 208:Src/Modbus_Master/modbus_master.c ****   else
 209:Src/Modbus_Master/modbus_master.c ****   {
 210:Src/Modbus_Master/modbus_master.c ****     return ku8MBIllegalDataAddress;
 655              		.loc 2 210 12 view .LVU140
 656 000e 0220     		movs	r0, #2
 657              	.LVL39:
 211:Src/Modbus_Master/modbus_master.c ****   }
 212:Src/Modbus_Master/modbus_master.c **** }
 658              		.loc 2 212 1 view .LVU141
 659 0010 7047     		bx	lr
 660              	.L58:
 661 0012 00BF     		.align	2
 662              	.L57:
 663 0014 00000000 		.word	_u16TransmitBuffer
 664              		.cfi_endproc
 665              	.LFE149:
 667              		.section	.text.ModbusMaster_clearTransmitBuffer,"ax",%progbits
 668              		.align	1
 669              		.global	ModbusMaster_clearTransmitBuffer
 670              		.syntax unified
 671              		.thumb
 672              		.thumb_func
 673              		.fpu fpv4-sp-d16
 675              	ModbusMaster_clearTransmitBuffer:
 676              	.LFB150:
 213:Src/Modbus_Master/modbus_master.c **** 
 214:Src/Modbus_Master/modbus_master.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 19


 215:Src/Modbus_Master/modbus_master.c **** /**
 216:Src/Modbus_Master/modbus_master.c **** Clear Modbus transmit buffer.
 217:Src/Modbus_Master/modbus_master.c **** 
 218:Src/Modbus_Master/modbus_master.c **** @see ModbusMaster::setTransmitBuffer(uint8_t u8Index, uint16_t u16Value)
 219:Src/Modbus_Master/modbus_master.c **** @ingroup buffer
 220:Src/Modbus_Master/modbus_master.c **** */
 221:Src/Modbus_Master/modbus_master.c **** void ModbusMaster_clearTransmitBuffer()
 222:Src/Modbus_Master/modbus_master.c **** {
 677              		.loc 2 222 1 is_stmt 1 view -0
 678              		.cfi_startproc
 679              		@ args = 0, pretend = 0, frame = 0
 680              		@ frame_needed = 0, uses_anonymous_args = 0
 681              		@ link register save eliminated.
 223:Src/Modbus_Master/modbus_master.c ****   uint8_t i;
 682              		.loc 2 223 3 view .LVU143
 224:Src/Modbus_Master/modbus_master.c ****   
 225:Src/Modbus_Master/modbus_master.c ****   for (i = 0; i < ku8MaxBufferSize; i++)
 683              		.loc 2 225 3 view .LVU144
 684              	.LVL40:
 685              		.loc 2 225 10 is_stmt 0 view .LVU145
 686 0000 0023     		movs	r3, #0
 687              		.loc 2 225 3 view .LVU146
 688 0002 05E0     		b	.L60
 689              	.LVL41:
 690              	.L61:
 226:Src/Modbus_Master/modbus_master.c ****   {
 227:Src/Modbus_Master/modbus_master.c ****     _u16TransmitBuffer[i] = 0;
 691              		.loc 2 227 5 is_stmt 1 discriminator 3 view .LVU147
 692              		.loc 2 227 27 is_stmt 0 discriminator 3 view .LVU148
 693 0004 044A     		ldr	r2, .L62
 694 0006 0021     		movs	r1, #0
 695 0008 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 225:Src/Modbus_Master/modbus_master.c ****   {
 696              		.loc 2 225 37 is_stmt 1 discriminator 3 view .LVU149
 225:Src/Modbus_Master/modbus_master.c ****   {
 697              		.loc 2 225 38 is_stmt 0 discriminator 3 view .LVU150
 698 000c 0133     		adds	r3, r3, #1
 699              	.LVL42:
 225:Src/Modbus_Master/modbus_master.c ****   {
 700              		.loc 2 225 38 discriminator 3 view .LVU151
 701 000e DBB2     		uxtb	r3, r3
 702              	.LVL43:
 703              	.L60:
 225:Src/Modbus_Master/modbus_master.c ****   {
 704              		.loc 2 225 15 is_stmt 1 discriminator 1 view .LVU152
 225:Src/Modbus_Master/modbus_master.c ****   {
 705              		.loc 2 225 3 is_stmt 0 discriminator 1 view .LVU153
 706 0010 3F2B     		cmp	r3, #63
 707 0012 F7D9     		bls	.L61
 228:Src/Modbus_Master/modbus_master.c ****   }
 229:Src/Modbus_Master/modbus_master.c **** }
 708              		.loc 2 229 1 view .LVU154
 709 0014 7047     		bx	lr
 710              	.L63:
 711 0016 00BF     		.align	2
 712              	.L62:
 713 0018 00000000 		.word	_u16TransmitBuffer
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 20


 714              		.cfi_endproc
 715              	.LFE150:
 717              		.section	.text.ModbusMaster_ModbusMasterTransaction,"ax",%progbits
 718              		.align	1
 719              		.global	ModbusMaster_ModbusMasterTransaction
 720              		.syntax unified
 721              		.thumb
 722              		.thumb_func
 723              		.fpu fpv4-sp-d16
 725              	ModbusMaster_ModbusMasterTransaction:
 726              	.LVL44:
 727              	.LFB151:
 230:Src/Modbus_Master/modbus_master.c **** 
 231:Src/Modbus_Master/modbus_master.c **** 
 232:Src/Modbus_Master/modbus_master.c **** /* _____PRIVATE FUNCTIONS____________________________________________________ */
 233:Src/Modbus_Master/modbus_master.c **** /**
 234:Src/Modbus_Master/modbus_master.c **** Modbus transaction engine.
 235:Src/Modbus_Master/modbus_master.c **** Sequence:
 236:Src/Modbus_Master/modbus_master.c ****   - assemble Modbus Request Application Data Unit (ADU),
 237:Src/Modbus_Master/modbus_master.c ****     based on particular function called
 238:Src/Modbus_Master/modbus_master.c ****   - transmit request over selected serial port
 239:Src/Modbus_Master/modbus_master.c ****   - wait for/retrieve response
 240:Src/Modbus_Master/modbus_master.c ****   - evaluate/disassemble response
 241:Src/Modbus_Master/modbus_master.c ****   - return status (success/exception)
 242:Src/Modbus_Master/modbus_master.c **** 
 243:Src/Modbus_Master/modbus_master.c **** @param u8MBFunction Modbus function (0x01..0xFF)
 244:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 245:Src/Modbus_Master/modbus_master.c **** */
 246:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_ModbusMasterTransaction(uint8_t u8MBFunction)
 247:Src/Modbus_Master/modbus_master.c **** {
 728              		.loc 2 247 1 is_stmt 1 view -0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 256
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732              		.loc 2 247 1 is_stmt 0 view .LVU156
 733 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 734              	.LCFI7:
 735              		.cfi_def_cfa_offset 28
 736              		.cfi_offset 4, -28
 737              		.cfi_offset 5, -24
 738              		.cfi_offset 6, -20
 739              		.cfi_offset 7, -16
 740              		.cfi_offset 8, -12
 741              		.cfi_offset 9, -8
 742              		.cfi_offset 14, -4
 743 0004 C1B0     		sub	sp, sp, #260
 744              	.LCFI8:
 745              		.cfi_def_cfa_offset 288
 746 0006 0546     		mov	r5, r0
 248:Src/Modbus_Master/modbus_master.c ****   uint8_t u8ModbusADU[256];
 747              		.loc 2 248 3 is_stmt 1 view .LVU157
 249:Src/Modbus_Master/modbus_master.c ****   uint8_t u8ModbusADUSize = 0;
 748              		.loc 2 249 3 view .LVU158
 749              	.LVL45:
 250:Src/Modbus_Master/modbus_master.c ****   uint8_t i, u8Qty;
 750              		.loc 2 250 3 view .LVU159
 251:Src/Modbus_Master/modbus_master.c ****   uint16_t u16CRC;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 21


 751              		.loc 2 251 3 view .LVU160
 252:Src/Modbus_Master/modbus_master.c ****   uint32_t u32StartTime;
 752              		.loc 2 252 3 view .LVU161
 253:Src/Modbus_Master/modbus_master.c ****   uint8_t u8BytesLeft = 8;
 753              		.loc 2 253 3 view .LVU162
 254:Src/Modbus_Master/modbus_master.c ****   uint8_t u8MBStatus = ku8MBSuccess;
 754              		.loc 2 254 3 view .LVU163
 255:Src/Modbus_Master/modbus_master.c **** 	
 256:Src/Modbus_Master/modbus_master.c **** 	// assemble Modbus Request Application Data Unit
 257:Src/Modbus_Master/modbus_master.c ****   u8ModbusADU[u8ModbusADUSize++] = _u8MBSlave;
 755              		.loc 2 257 3 view .LVU164
 756              		.loc 2 257 34 is_stmt 0 view .LVU165
 757 0008 B44B     		ldr	r3, .L126
 758 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 759 000c 8DF80030 		strb	r3, [sp]
 258:Src/Modbus_Master/modbus_master.c ****   u8ModbusADU[u8ModbusADUSize++] = u8MBFunction;
 760              		.loc 2 258 3 is_stmt 1 view .LVU166
 761              	.LVL46:
 762              		.loc 2 258 34 is_stmt 0 view .LVU167
 763 0010 8DF80100 		strb	r0, [sp, #1]
 259:Src/Modbus_Master/modbus_master.c **** 	
 260:Src/Modbus_Master/modbus_master.c **** 	switch(u8MBFunction)
 764              		.loc 2 260 2 is_stmt 1 view .LVU168
 765 0014 0428     		cmp	r0, #4
 766 0016 23D8     		bhi	.L65
 767 0018 43B2     		sxtb	r3, r0
 768 001a 1BBB     		cbnz	r3, .L66
 769 001c 0226     		movs	r6, #2
 770              	.LVL47:
 771              	.L67:
 261:Src/Modbus_Master/modbus_master.c ****   {
 262:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadCoils:
 263:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadDiscreteInputs:
 264:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadInputRegisters:
 265:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadHoldingRegisters:
 266:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadWriteMultipleRegisters:
 267:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16ReadAddress);
 268:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadAddress);
 269:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16ReadQty);
 270:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadQty);
 271:Src/Modbus_Master/modbus_master.c ****       break;
 272:Src/Modbus_Master/modbus_master.c ****   }
 273:Src/Modbus_Master/modbus_master.c **** 	
 274:Src/Modbus_Master/modbus_master.c ****   switch(u8MBFunction)
 772              		.loc 2 274 3 view .LVU169
 773 001e 172D     		cmp	r5, #23
 774 0020 0FD8     		bhi	.L68
 775 0022 0122     		movs	r2, #1
 776 0024 AA40     		lsls	r2, r2, r5
 777 0026 AE4B     		ldr	r3, .L126+4
 778 0028 1340     		ands	r3, r3, r2
 779 002a 53B1     		cbz	r3, .L68
 275:Src/Modbus_Master/modbus_master.c ****   {
 276:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteSingleCoil:
 277:Src/Modbus_Master/modbus_master.c ****     case ku8MBMaskWriteRegister:
 278:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteMultipleCoils:
 279:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteSingleRegister:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 22


 280:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteMultipleRegisters:
 281:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadWriteMultipleRegisters:
 282:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16WriteAddress);
 780              		.loc 2 282 7 view .LVU170
 781              		.loc 2 282 40 is_stmt 0 view .LVU171
 782 002c AD4B     		ldr	r3, .L126+8
 783 002e 1A88     		ldrh	r2, [r3]
 784              		.loc 2 282 34 view .LVU172
 785 0030 731C     		adds	r3, r6, #1
 786 0032 DBB2     		uxtb	r3, r3
 787              	.LVL48:
 788              	.LBB72:
 789              	.LBI72:
  62:Src/Modbus_Master/word.h **** }
  63:Src/Modbus_Master/word.h **** 
  64:Src/Modbus_Master/word.h **** 
  65:Src/Modbus_Master/word.h **** /*妯℃ardunio芥*************************************************/
  66:Src/Modbus_Master/word.h **** static inline uint8_t lowByte(uint16_t ww)
  67:Src/Modbus_Master/word.h **** {
  68:Src/Modbus_Master/word.h ****   return (uint8_t) ((ww) & 0x00FF);
  69:Src/Modbus_Master/word.h **** }
  70:Src/Modbus_Master/word.h **** 
  71:Src/Modbus_Master/word.h **** 
  72:Src/Modbus_Master/word.h **** static inline uint8_t highByte(uint16_t ww)
 790              		.loc 3 72 23 is_stmt 1 view .LVU173
 791              	.LBB73:
  73:Src/Modbus_Master/word.h **** {
  74:Src/Modbus_Master/word.h ****   return (uint8_t) ((ww) >> 8);
 792              		.loc 3 74 3 view .LVU174
 793              		.loc 3 74 10 is_stmt 0 view .LVU175
 794 0034 110A     		lsrs	r1, r2, #8
 795              	.LVL49:
 796              		.loc 3 74 10 view .LVU176
 797              	.LBE73:
 798              	.LBE72:
 799              		.loc 2 282 38 view .LVU177
 800 0036 0DF80610 		strb	r1, [sp, r6]
 283:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteAddress);
 801              		.loc 2 283 7 is_stmt 1 view .LVU178
 802              		.loc 2 283 34 is_stmt 0 view .LVU179
 803 003a 0236     		adds	r6, r6, #2
 804 003c F6B2     		uxtb	r6, r6
 805              	.LVL50:
 806              	.LBB74:
 807              	.LBI74:
  66:Src/Modbus_Master/word.h **** {
 808              		.loc 3 66 23 is_stmt 1 view .LVU180
 809              	.LBB75:
  68:Src/Modbus_Master/word.h **** }
 810              		.loc 3 68 3 view .LVU181
  68:Src/Modbus_Master/word.h **** }
 811              		.loc 3 68 3 is_stmt 0 view .LVU182
 812              	.LBE75:
 813              	.LBE74:
 814              		.loc 2 283 38 view .LVU183
 815 003e 0DF80320 		strb	r2, [sp, r3]
 284:Src/Modbus_Master/modbus_master.c ****       break;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 23


 816              		.loc 2 284 7 is_stmt 1 view .LVU184
 817              	.L68:
 285:Src/Modbus_Master/modbus_master.c ****   }
 286:Src/Modbus_Master/modbus_master.c **** 	
 287:Src/Modbus_Master/modbus_master.c **** 	switch(u8MBFunction)
 818              		.loc 2 287 2 view .LVU185
 819 0042 6B1F     		subs	r3, r5, #5
 820 0044 122B     		cmp	r3, #18
 821 0046 2AD8     		bhi	.L69
 822 0048 DFE803F0 		tbb	[pc, r3]
 823              	.L71:
 824 004c 1E       		.byte	(.L75-.L71)/2
 825 004d 2D       		.byte	(.L74-.L71)/2
 826 004e 29       		.byte	(.L69-.L71)/2
 827 004f 29       		.byte	(.L69-.L71)/2
 828 0050 29       		.byte	(.L69-.L71)/2
 829 0051 29       		.byte	(.L69-.L71)/2
 830 0052 29       		.byte	(.L69-.L71)/2
 831 0053 29       		.byte	(.L69-.L71)/2
 832 0054 29       		.byte	(.L69-.L71)/2
 833 0055 29       		.byte	(.L69-.L71)/2
 834 0056 39       		.byte	(.L73-.L71)/2
 835 0057 6F       		.byte	(.L70-.L71)/2
 836 0058 29       		.byte	(.L69-.L71)/2
 837 0059 29       		.byte	(.L69-.L71)/2
 838 005a 29       		.byte	(.L69-.L71)/2
 839 005b 29       		.byte	(.L69-.L71)/2
 840 005c 29       		.byte	(.L69-.L71)/2
 841 005d 93       		.byte	(.L72-.L71)/2
 842 005e 6F       		.byte	(.L70-.L71)/2
 843              	.LVL51:
 844 005f 00       		.p2align 1
 845              	.L65:
 260:Src/Modbus_Master/modbus_master.c ****   {
 846              		.loc 2 260 2 is_stmt 0 view .LVU186
 847 0060 1728     		cmp	r0, #23
 848 0062 0FD1     		bne	.L111
 849              	.L66:
 267:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadAddress);
 850              		.loc 2 267 7 is_stmt 1 view .LVU187
 267:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadAddress);
 851              		.loc 2 267 40 is_stmt 0 view .LVU188
 852 0064 A04B     		ldr	r3, .L126+12
 853 0066 1B88     		ldrh	r3, [r3]
 854              	.LVL52:
 855              	.LBB76:
 856              	.LBI76:
  72:Src/Modbus_Master/word.h **** {
 857              		.loc 3 72 23 is_stmt 1 view .LVU189
 858              	.LBB77:
 859              		.loc 3 74 3 view .LVU190
 860              		.loc 3 74 10 is_stmt 0 view .LVU191
 861 0068 1A0A     		lsrs	r2, r3, #8
 862              	.LVL53:
 863              		.loc 3 74 10 view .LVU192
 864              	.LBE77:
 865              	.LBE76:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 24


 267:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadAddress);
 866              		.loc 2 267 38 view .LVU193
 867 006a 8DF80220 		strb	r2, [sp, #2]
 268:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16ReadQty);
 868              		.loc 2 268 7 is_stmt 1 view .LVU194
 869              	.LVL54:
 870              	.LBB78:
 871              	.LBI78:
  66:Src/Modbus_Master/word.h **** {
 872              		.loc 3 66 23 view .LVU195
 873              	.LBB79:
  68:Src/Modbus_Master/word.h **** }
 874              		.loc 3 68 3 view .LVU196
  68:Src/Modbus_Master/word.h **** }
 875              		.loc 3 68 3 is_stmt 0 view .LVU197
 876              	.LBE79:
 877              	.LBE78:
 268:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16ReadQty);
 878              		.loc 2 268 38 view .LVU198
 879 006e 8DF80330 		strb	r3, [sp, #3]
 269:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadQty);
 880              		.loc 2 269 7 is_stmt 1 view .LVU199
 269:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadQty);
 881              		.loc 2 269 40 is_stmt 0 view .LVU200
 882 0072 9E4B     		ldr	r3, .L126+16
 883 0074 1B88     		ldrh	r3, [r3]
 884              	.LVL55:
 885              	.LBB80:
 886              	.LBI80:
  72:Src/Modbus_Master/word.h **** {
 887              		.loc 3 72 23 is_stmt 1 view .LVU201
 888              	.LBB81:
 889              		.loc 3 74 3 view .LVU202
 890              		.loc 3 74 10 is_stmt 0 view .LVU203
 891 0076 1A0A     		lsrs	r2, r3, #8
 892              	.LVL56:
 893              		.loc 3 74 10 view .LVU204
 894              	.LBE81:
 895              	.LBE80:
 269:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16ReadQty);
 896              		.loc 2 269 38 view .LVU205
 897 0078 8DF80420 		strb	r2, [sp, #4]
 270:Src/Modbus_Master/modbus_master.c ****       break;
 898              		.loc 2 270 7 is_stmt 1 view .LVU206
 899              	.LVL57:
 900              	.LBB82:
 901              	.LBI82:
  66:Src/Modbus_Master/word.h **** {
 902              		.loc 3 66 23 view .LVU207
 903              	.LBB83:
  68:Src/Modbus_Master/word.h **** }
 904              		.loc 3 68 3 view .LVU208
  68:Src/Modbus_Master/word.h **** }
 905              		.loc 3 68 3 is_stmt 0 view .LVU209
 906              	.LBE83:
 907              	.LBE82:
 270:Src/Modbus_Master/modbus_master.c ****       break;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 25


 908              		.loc 2 270 38 view .LVU210
 909 007c 8DF80530 		strb	r3, [sp, #5]
 271:Src/Modbus_Master/modbus_master.c ****   }
 910              		.loc 2 271 7 is_stmt 1 view .LVU211
 270:Src/Modbus_Master/modbus_master.c ****       break;
 911              		.loc 2 270 34 is_stmt 0 view .LVU212
 912 0080 0626     		movs	r6, #6
 271:Src/Modbus_Master/modbus_master.c ****   }
 913              		.loc 2 271 7 view .LVU213
 914 0082 CCE7     		b	.L67
 915              	.LVL58:
 916              	.L111:
 260:Src/Modbus_Master/modbus_master.c ****   {
 917              		.loc 2 260 2 view .LVU214
 918 0084 0226     		movs	r6, #2
 919 0086 CAE7     		b	.L67
 920              	.LVL59:
 921              	.L75:
 288:Src/Modbus_Master/modbus_master.c ****   {
 289:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteSingleCoil:
 290:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16WriteQty);
 922              		.loc 2 290 7 is_stmt 1 view .LVU215
 923              		.loc 2 290 40 is_stmt 0 view .LVU216
 924 0088 994B     		ldr	r3, .L126+20
 925 008a 1A88     		ldrh	r2, [r3]
 926              		.loc 2 290 34 view .LVU217
 927 008c 731C     		adds	r3, r6, #1
 928 008e DBB2     		uxtb	r3, r3
 929              	.LVL60:
 930              	.LBB84:
 931              	.LBI84:
  72:Src/Modbus_Master/word.h **** {
 932              		.loc 3 72 23 is_stmt 1 view .LVU218
 933              	.LBB85:
 934              		.loc 3 74 3 view .LVU219
 935              		.loc 3 74 10 is_stmt 0 view .LVU220
 936 0090 110A     		lsrs	r1, r2, #8
 937              	.LVL61:
 938              		.loc 3 74 10 view .LVU221
 939              	.LBE85:
 940              	.LBE84:
 941              		.loc 2 290 38 view .LVU222
 942 0092 0DF80610 		strb	r1, [sp, r6]
 291:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 943              		.loc 2 291 7 is_stmt 1 view .LVU223
 944              		.loc 2 291 34 is_stmt 0 view .LVU224
 945 0096 0236     		adds	r6, r6, #2
 946 0098 F6B2     		uxtb	r6, r6
 947              	.LVL62:
 948              	.LBB86:
 949              	.LBI86:
  66:Src/Modbus_Master/word.h **** {
 950              		.loc 3 66 23 is_stmt 1 view .LVU225
 951              	.LBB87:
  68:Src/Modbus_Master/word.h **** }
 952              		.loc 3 68 3 view .LVU226
  68:Src/Modbus_Master/word.h **** }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 26


 953              		.loc 3 68 3 is_stmt 0 view .LVU227
 954              	.LBE87:
 955              	.LBE86:
 956              		.loc 2 291 38 view .LVU228
 957 009a 0DF80320 		strb	r2, [sp, r3]
 292:Src/Modbus_Master/modbus_master.c ****       break;
 958              		.loc 2 292 7 is_stmt 1 view .LVU229
 959              	.LVL63:
 960              	.L69:
 293:Src/Modbus_Master/modbus_master.c ****       
 294:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteSingleRegister:
 295:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[0]);
 296:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 297:Src/Modbus_Master/modbus_master.c ****       break;
 298:Src/Modbus_Master/modbus_master.c ****       
 299:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteMultipleCoils:
 300:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16WriteQty);
 301:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 302:Src/Modbus_Master/modbus_master.c ****       u8Qty = (_u16WriteQty % 8) ? ((_u16WriteQty >> 3) + 1) : (_u16WriteQty >> 3);
 303:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
 304:Src/Modbus_Master/modbus_master.c ****       for (i = 0; i < u8Qty; i++)
 305:Src/Modbus_Master/modbus_master.c ****       {
 306:Src/Modbus_Master/modbus_master.c ****         switch(i % 2)
 307:Src/Modbus_Master/modbus_master.c ****         {
 308:Src/Modbus_Master/modbus_master.c ****           case 0: // i is even
 309:Src/Modbus_Master/modbus_master.c ****             u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i >> 1]);
 310:Src/Modbus_Master/modbus_master.c ****             break;
 311:Src/Modbus_Master/modbus_master.c ****             
 312:Src/Modbus_Master/modbus_master.c ****           case 1: // i is odd
 313:Src/Modbus_Master/modbus_master.c ****             u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[i >> 1]);
 314:Src/Modbus_Master/modbus_master.c ****             break;
 315:Src/Modbus_Master/modbus_master.c ****         }
 316:Src/Modbus_Master/modbus_master.c ****       }
 317:Src/Modbus_Master/modbus_master.c ****       break;
 318:Src/Modbus_Master/modbus_master.c ****       
 319:Src/Modbus_Master/modbus_master.c ****     case ku8MBWriteMultipleRegisters:
 320:Src/Modbus_Master/modbus_master.c ****     case ku8MBReadWriteMultipleRegisters:
 321:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16WriteQty);
 322:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 323:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty << 1);
 324:Src/Modbus_Master/modbus_master.c ****       
 325:Src/Modbus_Master/modbus_master.c ****       for (i = 0; i < lowByte(_u16WriteQty); i++)
 326:Src/Modbus_Master/modbus_master.c ****       {
 327:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[i]);
 328:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i]);
 329:Src/Modbus_Master/modbus_master.c ****       }
 330:Src/Modbus_Master/modbus_master.c ****       break;
 331:Src/Modbus_Master/modbus_master.c ****       
 332:Src/Modbus_Master/modbus_master.c ****     case ku8MBMaskWriteRegister:
 333:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[0]);
 334:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 335:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[1]);
 336:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[1]);
 337:Src/Modbus_Master/modbus_master.c ****       break;
 338:Src/Modbus_Master/modbus_master.c ****   }
 339:Src/Modbus_Master/modbus_master.c **** 	
 340:Src/Modbus_Master/modbus_master.c **** 	 // append CRC
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 27


 341:Src/Modbus_Master/modbus_master.c ****   u16CRC = 0xFFFF;
 961              		.loc 2 341 3 view .LVU230
 342:Src/Modbus_Master/modbus_master.c ****   for (i = 0; i < u8ModbusADUSize; i++)
 962              		.loc 2 342 3 view .LVU231
 341:Src/Modbus_Master/modbus_master.c ****   for (i = 0; i < u8ModbusADUSize; i++)
 963              		.loc 2 341 10 is_stmt 0 view .LVU232
 964 009e 4FF6FF70 		movw	r0, #65535
 965              		.loc 2 342 10 view .LVU233
 966 00a2 0024     		movs	r4, #0
 967              		.loc 2 342 3 view .LVU234
 968 00a4 81E0     		b	.L85
 969              	.LVL64:
 970              	.L74:
 295:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 971              		.loc 2 295 7 is_stmt 1 view .LVU235
 295:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 972              		.loc 2 295 40 is_stmt 0 view .LVU236
 973 00a6 934B     		ldr	r3, .L126+24
 974 00a8 1A88     		ldrh	r2, [r3]
 295:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 975              		.loc 2 295 34 view .LVU237
 976 00aa 731C     		adds	r3, r6, #1
 977 00ac DBB2     		uxtb	r3, r3
 978              	.LVL65:
 979              	.LBB88:
 980              	.LBI88:
  72:Src/Modbus_Master/word.h **** {
 981              		.loc 3 72 23 is_stmt 1 view .LVU238
 982              	.LBB89:
 983              		.loc 3 74 3 view .LVU239
 984              		.loc 3 74 10 is_stmt 0 view .LVU240
 985 00ae 110A     		lsrs	r1, r2, #8
 986              	.LVL66:
 987              		.loc 3 74 10 view .LVU241
 988              	.LBE89:
 989              	.LBE88:
 295:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 990              		.loc 2 295 38 view .LVU242
 991 00b0 0DF80610 		strb	r1, [sp, r6]
 296:Src/Modbus_Master/modbus_master.c ****       break;
 992              		.loc 2 296 7 is_stmt 1 view .LVU243
 296:Src/Modbus_Master/modbus_master.c ****       break;
 993              		.loc 2 296 34 is_stmt 0 view .LVU244
 994 00b4 0236     		adds	r6, r6, #2
 995 00b6 F6B2     		uxtb	r6, r6
 996              	.LVL67:
 997              	.LBB90:
 998              	.LBI90:
  66:Src/Modbus_Master/word.h **** {
 999              		.loc 3 66 23 is_stmt 1 view .LVU245
 1000              	.LBB91:
  68:Src/Modbus_Master/word.h **** }
 1001              		.loc 3 68 3 view .LVU246
  68:Src/Modbus_Master/word.h **** }
 1002              		.loc 3 68 3 is_stmt 0 view .LVU247
 1003              	.LBE91:
 1004              	.LBE90:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 28


 296:Src/Modbus_Master/modbus_master.c ****       break;
 1005              		.loc 2 296 38 view .LVU248
 1006 00b8 0DF80320 		strb	r2, [sp, r3]
 297:Src/Modbus_Master/modbus_master.c ****       
 1007              		.loc 2 297 7 is_stmt 1 view .LVU249
 1008 00bc EFE7     		b	.L69
 1009              	.L73:
 300:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1010              		.loc 2 300 7 view .LVU250
 300:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1011              		.loc 2 300 40 is_stmt 0 view .LVU251
 1012 00be 8C4B     		ldr	r3, .L126+20
 1013 00c0 1988     		ldrh	r1, [r3]
 300:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1014              		.loc 2 300 34 view .LVU252
 1015 00c2 721C     		adds	r2, r6, #1
 1016 00c4 D2B2     		uxtb	r2, r2
 1017              	.LVL68:
 1018              	.LBB92:
 1019              	.LBI92:
  72:Src/Modbus_Master/word.h **** {
 1020              		.loc 3 72 23 is_stmt 1 view .LVU253
 1021              	.LBB93:
 1022              		.loc 3 74 3 view .LVU254
 1023              		.loc 3 74 10 is_stmt 0 view .LVU255
 1024 00c6 0B0A     		lsrs	r3, r1, #8
 1025              	.LVL69:
 1026              		.loc 3 74 10 view .LVU256
 1027              	.LBE93:
 1028              	.LBE92:
 300:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1029              		.loc 2 300 38 view .LVU257
 1030 00c8 0DF80630 		strb	r3, [sp, r6]
 301:Src/Modbus_Master/modbus_master.c ****       u8Qty = (_u16WriteQty % 8) ? ((_u16WriteQty >> 3) + 1) : (_u16WriteQty >> 3);
 1031              		.loc 2 301 7 is_stmt 1 view .LVU258
 301:Src/Modbus_Master/modbus_master.c ****       u8Qty = (_u16WriteQty % 8) ? ((_u16WriteQty >> 3) + 1) : (_u16WriteQty >> 3);
 1032              		.loc 2 301 34 is_stmt 0 view .LVU259
 1033 00cc B31C     		adds	r3, r6, #2
 1034 00ce DBB2     		uxtb	r3, r3
 1035              	.LVL70:
 1036              	.LBB94:
 1037              	.LBI94:
  66:Src/Modbus_Master/word.h **** {
 1038              		.loc 3 66 23 is_stmt 1 view .LVU260
 1039              	.LBB95:
  68:Src/Modbus_Master/word.h **** }
 1040              		.loc 3 68 3 view .LVU261
  68:Src/Modbus_Master/word.h **** }
 1041              		.loc 3 68 3 is_stmt 0 view .LVU262
 1042              	.LBE95:
 1043              	.LBE94:
 301:Src/Modbus_Master/modbus_master.c ****       u8Qty = (_u16WriteQty % 8) ? ((_u16WriteQty >> 3) + 1) : (_u16WriteQty >> 3);
 1044              		.loc 2 301 38 view .LVU263
 1045 00d0 0DF80210 		strb	r1, [sp, r2]
 302:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
 1046              		.loc 2 302 7 is_stmt 1 view .LVU264
 302:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 29


 1047              		.loc 2 302 13 is_stmt 0 view .LVU265
 1048 00d4 11F0070F 		tst	r1, #7
 1049 00d8 09D0     		beq	.L76
 302:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
 1050              		.loc 2 302 57 discriminator 1 view .LVU266
 1051 00da C1F3C701 		ubfx	r1, r1, #3, #8
 302:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
 1052              		.loc 2 302 13 discriminator 1 view .LVU267
 1053 00de 0131     		adds	r1, r1, #1
 1054 00e0 C9B2     		uxtb	r1, r1
 1055              	.L77:
 1056              	.LVL71:
 303:Src/Modbus_Master/modbus_master.c ****       for (i = 0; i < u8Qty; i++)
 1057              		.loc 2 303 7 is_stmt 1 discriminator 4 view .LVU268
 303:Src/Modbus_Master/modbus_master.c ****       for (i = 0; i < u8Qty; i++)
 1058              		.loc 2 303 34 is_stmt 0 discriminator 4 view .LVU269
 1059 00e2 0336     		adds	r6, r6, #3
 1060 00e4 F6B2     		uxtb	r6, r6
 1061              	.LVL72:
 303:Src/Modbus_Master/modbus_master.c ****       for (i = 0; i < u8Qty; i++)
 1062              		.loc 2 303 38 discriminator 4 view .LVU270
 1063 00e6 0DF80310 		strb	r1, [sp, r3]
 304:Src/Modbus_Master/modbus_master.c ****       {
 1064              		.loc 2 304 7 is_stmt 1 discriminator 4 view .LVU271
 1065              	.LVL73:
 304:Src/Modbus_Master/modbus_master.c ****       {
 1066              		.loc 2 304 14 is_stmt 0 discriminator 4 view .LVU272
 1067 00ea 0023     		movs	r3, #0
 304:Src/Modbus_Master/modbus_master.c ****       {
 1068              		.loc 2 304 7 discriminator 4 view .LVU273
 1069 00ec 0CE0     		b	.L78
 1070              	.LVL74:
 1071              	.L76:
 302:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = u8Qty;
 1072              		.loc 2 302 13 discriminator 2 view .LVU274
 1073 00ee C1F3C701 		ubfx	r1, r1, #3, #8
 1074 00f2 F6E7     		b	.L77
 1075              	.LVL75:
 1076              	.L79:
 309:Src/Modbus_Master/modbus_master.c ****             break;
 1077              		.loc 2 309 13 is_stmt 1 view .LVU275
 309:Src/Modbus_Master/modbus_master.c ****             break;
 1078              		.loc 2 309 75 is_stmt 0 view .LVU276
 1079 00f4 5A08     		lsrs	r2, r3, #1
 309:Src/Modbus_Master/modbus_master.c ****             break;
 1080              		.loc 2 309 40 view .LVU277
 1081 00f6 701C     		adds	r0, r6, #1
 1082              	.LVL76:
 1083              	.LBB96:
 1084              	.LBI96:
  66:Src/Modbus_Master/word.h **** {
 1085              		.loc 3 66 23 is_stmt 1 view .LVU278
 1086              	.LBB97:
  68:Src/Modbus_Master/word.h **** }
 1087              		.loc 3 68 3 view .LVU279
  68:Src/Modbus_Master/word.h **** }
 1088              		.loc 3 68 10 is_stmt 0 view .LVU280
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 30


 1089 00f8 7E4C     		ldr	r4, .L126+24
 1090 00fa 14F81220 		ldrb	r2, [r4, r2, lsl #1]	@ zero_extendqisi2
  68:Src/Modbus_Master/word.h **** }
 1091              		.loc 3 68 10 view .LVU281
 1092              	.LBE97:
 1093              	.LBE96:
 309:Src/Modbus_Master/modbus_master.c ****             break;
 1094              		.loc 2 309 44 view .LVU282
 1095 00fe 0DF80620 		strb	r2, [sp, r6]
 310:Src/Modbus_Master/modbus_master.c ****             
 1096              		.loc 2 310 13 is_stmt 1 view .LVU283
 309:Src/Modbus_Master/modbus_master.c ****             break;
 1097              		.loc 2 309 40 is_stmt 0 view .LVU284
 1098 0102 C6B2     		uxtb	r6, r0
 1099              	.LVL77:
 1100              	.L81:
 304:Src/Modbus_Master/modbus_master.c ****       {
 1101              		.loc 2 304 30 is_stmt 1 discriminator 2 view .LVU285
 304:Src/Modbus_Master/modbus_master.c ****       {
 1102              		.loc 2 304 31 is_stmt 0 discriminator 2 view .LVU286
 1103 0104 0133     		adds	r3, r3, #1
 1104              	.LVL78:
 304:Src/Modbus_Master/modbus_master.c ****       {
 1105              		.loc 2 304 31 discriminator 2 view .LVU287
 1106 0106 DBB2     		uxtb	r3, r3
 1107              	.LVL79:
 1108              	.L78:
 304:Src/Modbus_Master/modbus_master.c ****       {
 1109              		.loc 2 304 19 is_stmt 1 discriminator 1 view .LVU288
 304:Src/Modbus_Master/modbus_master.c ****       {
 1110              		.loc 2 304 7 is_stmt 0 discriminator 1 view .LVU289
 1111 0108 8B42     		cmp	r3, r1
 1112 010a C8D2     		bcs	.L69
 306:Src/Modbus_Master/modbus_master.c ****         {
 1113              		.loc 2 306 9 is_stmt 1 view .LVU290
 1114 010c 13F00102 		ands	r2, r3, #1
 1115 0110 F0D0     		beq	.L79
 1116 0112 002A     		cmp	r2, #0
 1117 0114 F6D0     		beq	.L81
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1118              		.loc 2 313 13 view .LVU291
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1119              		.loc 2 313 76 is_stmt 0 view .LVU292
 1120 0116 5A08     		lsrs	r2, r3, #1
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1121              		.loc 2 313 46 view .LVU293
 1122 0118 7648     		ldr	r0, .L126+24
 1123 011a 30F81220 		ldrh	r2, [r0, r2, lsl #1]
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1124              		.loc 2 313 40 view .LVU294
 1125 011e 701C     		adds	r0, r6, #1
 1126              	.LVL80:
 1127              	.LBB98:
 1128              	.LBI98:
  72:Src/Modbus_Master/word.h **** {
 1129              		.loc 3 72 23 is_stmt 1 view .LVU295
 1130              	.LBB99:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 31


 1131              		.loc 3 74 3 view .LVU296
 1132              		.loc 3 74 10 is_stmt 0 view .LVU297
 1133 0120 120A     		lsrs	r2, r2, #8
 1134              	.LVL81:
 1135              		.loc 3 74 10 view .LVU298
 1136              	.LBE99:
 1137              	.LBE98:
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1138              		.loc 2 313 44 view .LVU299
 1139 0122 0DF80620 		strb	r2, [sp, r6]
 314:Src/Modbus_Master/modbus_master.c ****         }
 1140              		.loc 2 314 13 is_stmt 1 view .LVU300
 313:Src/Modbus_Master/modbus_master.c ****             break;
 1141              		.loc 2 313 40 is_stmt 0 view .LVU301
 1142 0126 C6B2     		uxtb	r6, r0
 314:Src/Modbus_Master/modbus_master.c ****         }
 1143              		.loc 2 314 13 view .LVU302
 1144 0128 ECE7     		b	.L81
 1145              	.LVL82:
 1146              	.L70:
 321:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1147              		.loc 2 321 7 is_stmt 1 view .LVU303
 321:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1148              		.loc 2 321 40 is_stmt 0 view .LVU304
 1149 012a 714B     		ldr	r3, .L126+20
 1150 012c 1B88     		ldrh	r3, [r3]
 321:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1151              		.loc 2 321 34 view .LVU305
 1152 012e 711C     		adds	r1, r6, #1
 1153 0130 C9B2     		uxtb	r1, r1
 1154              	.LVL83:
 1155              	.LBB100:
 1156              	.LBI100:
  72:Src/Modbus_Master/word.h **** {
 1157              		.loc 3 72 23 is_stmt 1 view .LVU306
 1158              	.LBB101:
 1159              		.loc 3 74 3 view .LVU307
 1160              		.loc 3 74 10 is_stmt 0 view .LVU308
 1161 0132 1A0A     		lsrs	r2, r3, #8
 1162              	.LVL84:
 1163              		.loc 3 74 10 view .LVU309
 1164              	.LBE101:
 1165              	.LBE100:
 321:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty);
 1166              		.loc 2 321 38 view .LVU310
 1167 0134 0DF80620 		strb	r2, [sp, r6]
 322:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty << 1);
 1168              		.loc 2 322 7 is_stmt 1 view .LVU311
 322:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty << 1);
 1169              		.loc 2 322 34 is_stmt 0 view .LVU312
 1170 0138 B21C     		adds	r2, r6, #2
 1171 013a D2B2     		uxtb	r2, r2
 1172              	.LVL85:
 1173              	.LBB102:
 1174              	.LBI102:
  66:Src/Modbus_Master/word.h **** {
 1175              		.loc 3 66 23 is_stmt 1 view .LVU313
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 32


 1176              	.LBB103:
  68:Src/Modbus_Master/word.h **** }
 1177              		.loc 3 68 3 view .LVU314
  68:Src/Modbus_Master/word.h **** }
 1178              		.loc 3 68 10 is_stmt 0 view .LVU315
 1179 013c DCB2     		uxtb	r4, r3
 1180              	.LVL86:
  68:Src/Modbus_Master/word.h **** }
 1181              		.loc 3 68 10 view .LVU316
 1182              	.LBE103:
 1183              	.LBE102:
 322:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16WriteQty << 1);
 1184              		.loc 2 322 38 view .LVU317
 1185 013e 0DF80140 		strb	r4, [sp, r1]
 323:Src/Modbus_Master/modbus_master.c ****       
 1186              		.loc 2 323 7 is_stmt 1 view .LVU318
 323:Src/Modbus_Master/modbus_master.c ****       
 1187              		.loc 2 323 40 is_stmt 0 view .LVU319
 1188 0142 5B00     		lsls	r3, r3, #1
 323:Src/Modbus_Master/modbus_master.c ****       
 1189              		.loc 2 323 34 view .LVU320
 1190 0144 0336     		adds	r6, r6, #3
 1191 0146 F6B2     		uxtb	r6, r6
 1192              	.LVL87:
 1193              	.LBB104:
 1194              	.LBI104:
  66:Src/Modbus_Master/word.h **** {
 1195              		.loc 3 66 23 is_stmt 1 view .LVU321
 1196              	.LBB105:
  68:Src/Modbus_Master/word.h **** }
 1197              		.loc 3 68 3 view .LVU322
  68:Src/Modbus_Master/word.h **** }
 1198              		.loc 3 68 3 is_stmt 0 view .LVU323
 1199              	.LBE105:
 1200              	.LBE104:
 323:Src/Modbus_Master/modbus_master.c ****       
 1201              		.loc 2 323 38 view .LVU324
 1202 0148 0DF80230 		strb	r3, [sp, r2]
 325:Src/Modbus_Master/modbus_master.c ****       {
 1203              		.loc 2 325 7 is_stmt 1 view .LVU325
 1204              	.LVL88:
 325:Src/Modbus_Master/modbus_master.c ****       {
 1205              		.loc 2 325 14 is_stmt 0 view .LVU326
 1206 014c 0023     		movs	r3, #0
 325:Src/Modbus_Master/modbus_master.c ****       {
 1207              		.loc 2 325 7 view .LVU327
 1208 014e 0DE0     		b	.L83
 1209              	.LVL89:
 1210              	.L84:
 327:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i]);
 1211              		.loc 2 327 9 is_stmt 1 discriminator 3 view .LVU328
 327:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i]);
 1212              		.loc 2 327 42 is_stmt 0 discriminator 3 view .LVU329
 1213 0150 684A     		ldr	r2, .L126+24
 1214 0152 32F81310 		ldrh	r1, [r2, r3, lsl #1]
 327:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i]);
 1215              		.loc 2 327 36 discriminator 3 view .LVU330
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 33


 1216 0156 721C     		adds	r2, r6, #1
 1217 0158 D2B2     		uxtb	r2, r2
 1218              	.LVL90:
 1219              	.LBB106:
 1220              	.LBI106:
  72:Src/Modbus_Master/word.h **** {
 1221              		.loc 3 72 23 is_stmt 1 discriminator 3 view .LVU331
 1222              	.LBB107:
 1223              		.loc 3 74 3 discriminator 3 view .LVU332
 1224              		.loc 3 74 10 is_stmt 0 discriminator 3 view .LVU333
 1225 015a 080A     		lsrs	r0, r1, #8
 1226              	.LVL91:
 1227              		.loc 3 74 10 discriminator 3 view .LVU334
 1228              	.LBE107:
 1229              	.LBE106:
 327:Src/Modbus_Master/modbus_master.c ****         u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[i]);
 1230              		.loc 2 327 40 discriminator 3 view .LVU335
 1231 015c 0DF80600 		strb	r0, [sp, r6]
 328:Src/Modbus_Master/modbus_master.c ****       }
 1232              		.loc 2 328 9 is_stmt 1 discriminator 3 view .LVU336
 328:Src/Modbus_Master/modbus_master.c ****       }
 1233              		.loc 2 328 36 is_stmt 0 discriminator 3 view .LVU337
 1234 0160 0236     		adds	r6, r6, #2
 1235 0162 F6B2     		uxtb	r6, r6
 1236              	.LVL92:
 1237              	.LBB108:
 1238              	.LBI108:
  66:Src/Modbus_Master/word.h **** {
 1239              		.loc 3 66 23 is_stmt 1 discriminator 3 view .LVU338
 1240              	.LBB109:
  68:Src/Modbus_Master/word.h **** }
 1241              		.loc 3 68 3 discriminator 3 view .LVU339
  68:Src/Modbus_Master/word.h **** }
 1242              		.loc 3 68 3 is_stmt 0 discriminator 3 view .LVU340
 1243              	.LBE109:
 1244              	.LBE108:
 328:Src/Modbus_Master/modbus_master.c ****       }
 1245              		.loc 2 328 40 discriminator 3 view .LVU341
 1246 0164 0DF80210 		strb	r1, [sp, r2]
 325:Src/Modbus_Master/modbus_master.c ****       {
 1247              		.loc 2 325 46 is_stmt 1 discriminator 3 view .LVU342
 325:Src/Modbus_Master/modbus_master.c ****       {
 1248              		.loc 2 325 47 is_stmt 0 discriminator 3 view .LVU343
 1249 0168 0133     		adds	r3, r3, #1
 1250              	.LVL93:
 325:Src/Modbus_Master/modbus_master.c ****       {
 1251              		.loc 2 325 47 discriminator 3 view .LVU344
 1252 016a DBB2     		uxtb	r3, r3
 1253              	.LVL94:
 1254              	.L83:
 325:Src/Modbus_Master/modbus_master.c ****       {
 1255              		.loc 2 325 19 is_stmt 1 discriminator 1 view .LVU345
  68:Src/Modbus_Master/word.h **** }
 1256              		.loc 3 68 3 discriminator 1 view .LVU346
 325:Src/Modbus_Master/modbus_master.c ****       {
 1257              		.loc 2 325 7 is_stmt 0 discriminator 1 view .LVU347
 1258 016c A342     		cmp	r3, r4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 34


 1259 016e EFD3     		bcc	.L84
 325:Src/Modbus_Master/modbus_master.c ****       {
 1260              		.loc 2 325 7 discriminator 1 view .LVU348
 1261 0170 95E7     		b	.L69
 1262              	.LVL95:
 1263              	.L72:
 333:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 1264              		.loc 2 333 7 is_stmt 1 view .LVU349
 333:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 1265              		.loc 2 333 40 is_stmt 0 view .LVU350
 1266 0172 6049     		ldr	r1, .L126+24
 1267 0174 0888     		ldrh	r0, [r1]
 1268              	.LVL96:
 333:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 1269              		.loc 2 333 34 view .LVU351
 1270 0176 731C     		adds	r3, r6, #1
 1271 0178 DBB2     		uxtb	r3, r3
 1272              	.LVL97:
 1273              	.LBB110:
 1274              	.LBI110:
  72:Src/Modbus_Master/word.h **** {
 1275              		.loc 3 72 23 is_stmt 1 view .LVU352
 1276              	.LBB111:
 1277              		.loc 3 74 3 view .LVU353
 1278              		.loc 3 74 10 is_stmt 0 view .LVU354
 1279 017a 020A     		lsrs	r2, r0, #8
 1280              	.LVL98:
 1281              		.loc 3 74 10 view .LVU355
 1282              	.LBE111:
 1283              	.LBE110:
 333:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[0]);
 1284              		.loc 2 333 38 view .LVU356
 1285 017c 0DF80620 		strb	r2, [sp, r6]
 334:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[1]);
 1286              		.loc 2 334 7 is_stmt 1 view .LVU357
 334:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[1]);
 1287              		.loc 2 334 34 is_stmt 0 view .LVU358
 1288 0180 B21C     		adds	r2, r6, #2
 1289 0182 D2B2     		uxtb	r2, r2
 1290              	.LVL99:
 1291              	.LBB112:
 1292              	.LBI112:
  66:Src/Modbus_Master/word.h **** {
 1293              		.loc 3 66 23 is_stmt 1 view .LVU359
 1294              	.LBB113:
  68:Src/Modbus_Master/word.h **** }
 1295              		.loc 3 68 3 view .LVU360
  68:Src/Modbus_Master/word.h **** }
 1296              		.loc 3 68 3 is_stmt 0 view .LVU361
 1297              	.LBE113:
 1298              	.LBE112:
 334:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = highByte(_u16TransmitBuffer[1]);
 1299              		.loc 2 334 38 view .LVU362
 1300 0184 0DF80300 		strb	r0, [sp, r3]
 335:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[1]);
 1301              		.loc 2 335 7 is_stmt 1 view .LVU363
 335:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[1]);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 35


 1302              		.loc 2 335 40 is_stmt 0 view .LVU364
 1303 0188 4988     		ldrh	r1, [r1, #2]
 335:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[1]);
 1304              		.loc 2 335 34 view .LVU365
 1305 018a F31C     		adds	r3, r6, #3
 1306 018c DBB2     		uxtb	r3, r3
 1307              	.LVL100:
 1308              	.LBB114:
 1309              	.LBI114:
  72:Src/Modbus_Master/word.h **** {
 1310              		.loc 3 72 23 is_stmt 1 view .LVU366
 1311              	.LBB115:
 1312              		.loc 3 74 3 view .LVU367
 1313              		.loc 3 74 10 is_stmt 0 view .LVU368
 1314 018e 080A     		lsrs	r0, r1, #8
 1315              	.LVL101:
 1316              		.loc 3 74 10 view .LVU369
 1317              	.LBE115:
 1318              	.LBE114:
 335:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = lowByte(_u16TransmitBuffer[1]);
 1319              		.loc 2 335 38 view .LVU370
 1320 0190 0DF80200 		strb	r0, [sp, r2]
 336:Src/Modbus_Master/modbus_master.c ****       break;
 1321              		.loc 2 336 7 is_stmt 1 view .LVU371
 336:Src/Modbus_Master/modbus_master.c ****       break;
 1322              		.loc 2 336 34 is_stmt 0 view .LVU372
 1323 0194 0436     		adds	r6, r6, #4
 1324 0196 F6B2     		uxtb	r6, r6
 1325              	.LVL102:
 1326              	.LBB116:
 1327              	.LBI116:
  66:Src/Modbus_Master/word.h **** {
 1328              		.loc 3 66 23 is_stmt 1 view .LVU373
 1329              	.LBB117:
  68:Src/Modbus_Master/word.h **** }
 1330              		.loc 3 68 3 view .LVU374
  68:Src/Modbus_Master/word.h **** }
 1331              		.loc 3 68 3 is_stmt 0 view .LVU375
 1332              	.LBE117:
 1333              	.LBE116:
 336:Src/Modbus_Master/modbus_master.c ****       break;
 1334              		.loc 2 336 38 view .LVU376
 1335 0198 0DF80310 		strb	r1, [sp, r3]
 337:Src/Modbus_Master/modbus_master.c ****   }
 1336              		.loc 2 337 7 is_stmt 1 view .LVU377
 1337 019c 7FE7     		b	.L69
 1338              	.LVL103:
 1339              	.L86:
 343:Src/Modbus_Master/modbus_master.c ****   {
 344:Src/Modbus_Master/modbus_master.c ****     u16CRC = crc16_update(u16CRC, u8ModbusADU[i]);
 1340              		.loc 2 344 5 discriminator 3 view .LVU378
 1341              		.loc 2 344 14 is_stmt 0 discriminator 3 view .LVU379
 1342 019e 1DF80410 		ldrb	r1, [sp, r4]	@ zero_extendqisi2
 1343 01a2 FFF7FEFF 		bl	crc16_update
 1344              	.LVL104:
 342:Src/Modbus_Master/modbus_master.c ****   {
 1345              		.loc 2 342 36 is_stmt 1 discriminator 3 view .LVU380
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 36


 342:Src/Modbus_Master/modbus_master.c ****   {
 1346              		.loc 2 342 37 is_stmt 0 discriminator 3 view .LVU381
 1347 01a6 0134     		adds	r4, r4, #1
 1348              	.LVL105:
 342:Src/Modbus_Master/modbus_master.c ****   {
 1349              		.loc 2 342 37 discriminator 3 view .LVU382
 1350 01a8 E4B2     		uxtb	r4, r4
 1351              	.LVL106:
 1352              	.L85:
 342:Src/Modbus_Master/modbus_master.c ****   {
 1353              		.loc 2 342 15 is_stmt 1 discriminator 1 view .LVU383
 342:Src/Modbus_Master/modbus_master.c ****   {
 1354              		.loc 2 342 3 is_stmt 0 discriminator 1 view .LVU384
 1355 01aa A642     		cmp	r6, r4
 1356 01ac F7D8     		bhi	.L86
 345:Src/Modbus_Master/modbus_master.c ****   }
 346:Src/Modbus_Master/modbus_master.c ****   u8ModbusADU[u8ModbusADUSize++] = lowByte(u16CRC);
 1357              		.loc 2 346 3 is_stmt 1 view .LVU385
 1358              		.loc 2 346 30 is_stmt 0 view .LVU386
 1359 01ae 731C     		adds	r3, r6, #1
 1360 01b0 DBB2     		uxtb	r3, r3
 1361              	.LVL107:
 1362              	.LBB118:
 1363              	.LBI118:
  66:Src/Modbus_Master/word.h **** {
 1364              		.loc 3 66 23 is_stmt 1 view .LVU387
 1365              	.LBB119:
  68:Src/Modbus_Master/word.h **** }
 1366              		.loc 3 68 3 view .LVU388
  68:Src/Modbus_Master/word.h **** }
 1367              		.loc 3 68 3 is_stmt 0 view .LVU389
 1368              	.LBE119:
 1369              	.LBE118:
 1370              		.loc 2 346 34 view .LVU390
 1371 01b2 0DF80600 		strb	r0, [sp, r6]
 347:Src/Modbus_Master/modbus_master.c ****   u8ModbusADU[u8ModbusADUSize++] = highByte(u16CRC);
 1372              		.loc 2 347 3 is_stmt 1 view .LVU391
 1373              		.loc 2 347 30 is_stmt 0 view .LVU392
 1374 01b6 0236     		adds	r6, r6, #2
 1375 01b8 F4B2     		uxtb	r4, r6
 1376              	.LVL108:
 1377              	.LBB120:
 1378              	.LBI120:
  72:Src/Modbus_Master/word.h **** {
 1379              		.loc 3 72 23 is_stmt 1 view .LVU393
 1380              	.LBB121:
 1381              		.loc 3 74 3 view .LVU394
 1382              		.loc 3 74 10 is_stmt 0 view .LVU395
 1383 01ba C0F30720 		ubfx	r0, r0, #8, #8
 1384              	.LVL109:
 1385              		.loc 3 74 10 view .LVU396
 1386              	.LBE121:
 1387              	.LBE120:
 1388              		.loc 2 347 34 view .LVU397
 1389 01be 0DF80300 		strb	r0, [sp, r3]
 348:Src/Modbus_Master/modbus_master.c ****   u8ModbusADU[u8ModbusADUSize] = 0;
 1390              		.loc 2 348 3 is_stmt 1 view .LVU398
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 37


 1391              		.loc 2 348 32 is_stmt 0 view .LVU399
 1392 01c2 0026     		movs	r6, #0
 1393 01c4 0DF80460 		strb	r6, [sp, r4]
 349:Src/Modbus_Master/modbus_master.c **** 	
 350:Src/Modbus_Master/modbus_master.c **** 	// flush receive buffer before transmitting request
 351:Src/Modbus_Master/modbus_master.c ****   Modbus_Master_Rece_Flush();
 1394              		.loc 2 351 3 is_stmt 1 view .LVU400
 1395 01c8 FFF7FEFF 		bl	Modbus_Master_Rece_Flush
 1396              	.LVL110:
 352:Src/Modbus_Master/modbus_master.c **** 	
 353:Src/Modbus_Master/modbus_master.c **** 	// transmit request RS485接口是需要每次发送前改变接口的模式，不然会钳住总线而不能发送等原因
 354:Src/Modbus_Master/modbus_master.c **** 	/*
 355:Src/Modbus_Master/modbus_master.c ****   if (_preTransmission)
 356:Src/Modbus_Master/modbus_master.c ****   {
 357:Src/Modbus_Master/modbus_master.c ****     _preTransmission();
 358:Src/Modbus_Master/modbus_master.c ****   }
 359:Src/Modbus_Master/modbus_master.c **** 	*/
 360:Src/Modbus_Master/modbus_master.c **** 	
 361:Src/Modbus_Master/modbus_master.c **** 	//串口发送数据
 362:Src/Modbus_Master/modbus_master.c **** 	Modbus_Master_Write(u8ModbusADU,u8ModbusADUSize);
 1397              		.loc 2 362 2 view .LVU401
 1398 01cc 2146     		mov	r1, r4
 1399 01ce 6846     		mov	r0, sp
 1400 01d0 FFF7FEFF 		bl	Modbus_Master_Write
 1401              	.LVL111:
 363:Src/Modbus_Master/modbus_master.c **** 	u8ModbusADUSize = 0;
 1402              		.loc 2 363 2 view .LVU402
 364:Src/Modbus_Master/modbus_master.c **** 	/*
 365:Src/Modbus_Master/modbus_master.c **** 	  if (_postTransmission)
 366:Src/Modbus_Master/modbus_master.c ****   {
 367:Src/Modbus_Master/modbus_master.c ****     _postTransmission();
 368:Src/Modbus_Master/modbus_master.c ****   }
 369:Src/Modbus_Master/modbus_master.c **** 	*/
 370:Src/Modbus_Master/modbus_master.c **** 	// loop until we run out of time or bytes, or an error occurs
 371:Src/Modbus_Master/modbus_master.c ****   u32StartTime = Modbus_Master_Millis();
 1403              		.loc 2 371 3 view .LVU403
 1404              		.loc 2 371 18 is_stmt 0 view .LVU404
 1405 01d4 FFF7FEFF 		bl	Modbus_Master_Millis
 1406              	.LVL112:
 1407 01d8 8046     		mov	r8, r0
 1408              	.LVL113:
 372:Src/Modbus_Master/modbus_master.c **** 	 while (u8BytesLeft && !u8MBStatus)
 1409              		.loc 2 372 3 is_stmt 1 view .LVU405
 254:Src/Modbus_Master/modbus_master.c **** 	
 1410              		.loc 2 254 11 is_stmt 0 view .LVU406
 1411 01da 3746     		mov	r7, r6
 253:Src/Modbus_Master/modbus_master.c ****   uint8_t u8MBStatus = ku8MBSuccess;
 1412              		.loc 2 253 11 view .LVU407
 1413 01dc 0824     		movs	r4, #8
 1414              		.loc 2 372 9 view .LVU408
 1415 01de 18E0     		b	.L87
 1416              	.LVL114:
 1417              	.L122:
 373:Src/Modbus_Master/modbus_master.c ****   {
 374:Src/Modbus_Master/modbus_master.c ****     if (Modbus_Master_Rece_Available())
 375:Src/Modbus_Master/modbus_master.c ****     {
 376:Src/Modbus_Master/modbus_master.c ****       u8ModbusADU[u8ModbusADUSize++] = Modbus_Master_Read();
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 38


 1418              		.loc 2 376 7 is_stmt 1 view .LVU409
 1419              		.loc 2 376 34 is_stmt 0 view .LVU410
 1420 01e0 06F10109 		add	r9, r6, #1
 1421 01e4 5FFA89F9 		uxtb	r9, r9
 1422              	.LVL115:
 1423              		.loc 2 376 40 view .LVU411
 1424 01e8 FFF7FEFF 		bl	Modbus_Master_Read
 1425              	.LVL116:
 1426              		.loc 2 376 38 view .LVU412
 1427 01ec 0DF80600 		strb	r0, [sp, r6]
 377:Src/Modbus_Master/modbus_master.c ****       u8BytesLeft--;
 1428              		.loc 2 377 7 is_stmt 1 view .LVU413
 1429              		.loc 2 377 18 is_stmt 0 view .LVU414
 1430 01f0 013C     		subs	r4, r4, #1
 1431              	.LVL117:
 1432              		.loc 2 377 18 view .LVU415
 1433 01f2 E4B2     		uxtb	r4, r4
 1434              	.LVL118:
 376:Src/Modbus_Master/modbus_master.c ****       u8BytesLeft--;
 1435              		.loc 2 376 34 view .LVU416
 1436 01f4 4E46     		mov	r6, r9
 1437 01f6 14E0     		b	.L88
 1438              	.LVL119:
 1439              	.L123:
 378:Src/Modbus_Master/modbus_master.c ****     }
 379:Src/Modbus_Master/modbus_master.c ****     else
 380:Src/Modbus_Master/modbus_master.c ****     {
 381:Src/Modbus_Master/modbus_master.c ****       /*
 382:Src/Modbus_Master/modbus_master.c ****       if (_idle)
 383:Src/Modbus_Master/modbus_master.c ****       {
 384:Src/Modbus_Master/modbus_master.c ****         _idle();
 385:Src/Modbus_Master/modbus_master.c ****       }
 386:Src/Modbus_Master/modbus_master.c **** 			*/
 387:Src/Modbus_Master/modbus_master.c ****     }
 388:Src/Modbus_Master/modbus_master.c ****     
 389:Src/Modbus_Master/modbus_master.c ****     // evaluate slave ID, function code once enough bytes have been read
 390:Src/Modbus_Master/modbus_master.c ****     if (u8ModbusADUSize == 5)
 391:Src/Modbus_Master/modbus_master.c ****     {
 392:Src/Modbus_Master/modbus_master.c ****       // verify response is for correct Modbus slave
 393:Src/Modbus_Master/modbus_master.c ****       if (u8ModbusADU[0] != _u8MBSlave)
 394:Src/Modbus_Master/modbus_master.c ****       {
 395:Src/Modbus_Master/modbus_master.c ****         u8MBStatus = ku8MBInvalidSlaveID;
 396:Src/Modbus_Master/modbus_master.c ****         break;
 397:Src/Modbus_Master/modbus_master.c ****       }
 398:Src/Modbus_Master/modbus_master.c ****       
 399:Src/Modbus_Master/modbus_master.c ****       // verify response is for correct Modbus function code (mask exception bit 7)
 400:Src/Modbus_Master/modbus_master.c ****       if ((u8ModbusADU[1] & 0x7F) != u8MBFunction)
 401:Src/Modbus_Master/modbus_master.c ****       {
 402:Src/Modbus_Master/modbus_master.c ****         u8MBStatus = ku8MBInvalidFunction;
 403:Src/Modbus_Master/modbus_master.c ****         break;
 404:Src/Modbus_Master/modbus_master.c ****       }
 405:Src/Modbus_Master/modbus_master.c ****       
 406:Src/Modbus_Master/modbus_master.c ****       // check whether Modbus exception occurred; return Modbus Exception Code
 407:Src/Modbus_Master/modbus_master.c ****       if (bitRead(u8ModbusADU[1], 7))
 408:Src/Modbus_Master/modbus_master.c ****       {
 409:Src/Modbus_Master/modbus_master.c ****         u8MBStatus = u8ModbusADU[2];
 1440              		.loc 2 409 9 is_stmt 1 view .LVU417
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 39


 1441              		.loc 2 409 20 is_stmt 0 view .LVU418
 1442 01f8 9DF80270 		ldrb	r7, [sp, #2]	@ zero_extendqisi2
 1443              	.LVL120:
 410:Src/Modbus_Master/modbus_master.c ****         break;
 1444              		.loc 2 410 9 is_stmt 1 view .LVU419
 1445 01fc 5BE0     		b	.L90
 1446              	.L93:
 411:Src/Modbus_Master/modbus_master.c ****       }
 412:Src/Modbus_Master/modbus_master.c ****       
 413:Src/Modbus_Master/modbus_master.c ****       // evaluate returned Modbus function code
 414:Src/Modbus_Master/modbus_master.c ****       switch(u8ModbusADU[1])
 415:Src/Modbus_Master/modbus_master.c ****       {
 416:Src/Modbus_Master/modbus_master.c ****         case ku8MBReadCoils:
 417:Src/Modbus_Master/modbus_master.c ****         case ku8MBReadDiscreteInputs:
 418:Src/Modbus_Master/modbus_master.c ****         case ku8MBReadInputRegisters:
 419:Src/Modbus_Master/modbus_master.c ****         case ku8MBReadHoldingRegisters:
 420:Src/Modbus_Master/modbus_master.c ****         case ku8MBReadWriteMultipleRegisters:
 421:Src/Modbus_Master/modbus_master.c ****           u8BytesLeft = u8ModbusADU[2];
 1447              		.loc 2 421 11 view .LVU420
 1448              		.loc 2 421 23 is_stmt 0 view .LVU421
 1449 01fe 9DF80240 		ldrb	r4, [sp, #2]	@ zero_extendqisi2
 1450              	.LVL121:
 422:Src/Modbus_Master/modbus_master.c ****           break;
 1451              		.loc 2 422 11 is_stmt 1 view .LVU422
 1452              	.L89:
 423:Src/Modbus_Master/modbus_master.c ****           
 424:Src/Modbus_Master/modbus_master.c ****         case ku8MBWriteSingleCoil:
 425:Src/Modbus_Master/modbus_master.c ****         case ku8MBWriteMultipleCoils:
 426:Src/Modbus_Master/modbus_master.c ****         case ku8MBWriteSingleRegister:
 427:Src/Modbus_Master/modbus_master.c ****         case ku8MBWriteMultipleRegisters:
 428:Src/Modbus_Master/modbus_master.c ****           u8BytesLeft = 3;
 429:Src/Modbus_Master/modbus_master.c ****           break;
 430:Src/Modbus_Master/modbus_master.c ****           
 431:Src/Modbus_Master/modbus_master.c ****         case ku8MBMaskWriteRegister:
 432:Src/Modbus_Master/modbus_master.c ****           u8BytesLeft = 5;
 433:Src/Modbus_Master/modbus_master.c ****           break;
 434:Src/Modbus_Master/modbus_master.c ****       }
 435:Src/Modbus_Master/modbus_master.c ****     }
 436:Src/Modbus_Master/modbus_master.c ****     if ((Modbus_Master_Millis() - u32StartTime) > ku16MBResponseTimeout)
 1453              		.loc 2 436 5 view .LVU423
 1454              		.loc 2 436 10 is_stmt 0 view .LVU424
 1455 0202 FFF7FEFF 		bl	Modbus_Master_Millis
 1456              	.LVL122:
 1457              		.loc 2 436 33 view .LVU425
 1458 0206 A0EB0800 		sub	r0, r0, r8
 1459              		.loc 2 436 8 view .LVU426
 1460 020a B0F5FA6F 		cmp	r0, #2000
 1461 020e 00D9     		bls	.L87
 437:Src/Modbus_Master/modbus_master.c ****     {
 438:Src/Modbus_Master/modbus_master.c ****       u8MBStatus = ku8MBResponseTimedOut;
 1462              		.loc 2 438 18 view .LVU427
 1463 0210 E227     		movs	r7, #226
 1464              	.LVL123:
 1465              	.L87:
 372:Src/Modbus_Master/modbus_master.c ****   {
 1466              		.loc 2 372 9 is_stmt 1 view .LVU428
 1467 0212 002C     		cmp	r4, #0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 40


 1468 0214 4FD0     		beq	.L90
 372:Src/Modbus_Master/modbus_master.c ****   {
 1469              		.loc 2 372 22 is_stmt 0 discriminator 1 view .LVU429
 1470 0216 002F     		cmp	r7, #0
 1471 0218 4DD1     		bne	.L90
 374:Src/Modbus_Master/modbus_master.c ****     {
 1472              		.loc 2 374 5 is_stmt 1 view .LVU430
 374:Src/Modbus_Master/modbus_master.c ****     {
 1473              		.loc 2 374 9 is_stmt 0 view .LVU431
 1474 021a FFF7FEFF 		bl	Modbus_Master_Rece_Available
 1475              	.LVL124:
 374:Src/Modbus_Master/modbus_master.c ****     {
 1476              		.loc 2 374 8 view .LVU432
 1477 021e 0028     		cmp	r0, #0
 1478 0220 DED1     		bne	.L122
 1479              	.LVL125:
 1480              	.L88:
 387:Src/Modbus_Master/modbus_master.c ****     
 1481              		.loc 2 387 5 is_stmt 1 view .LVU433
 390:Src/Modbus_Master/modbus_master.c ****     {
 1482              		.loc 2 390 5 view .LVU434
 390:Src/Modbus_Master/modbus_master.c ****     {
 1483              		.loc 2 390 8 is_stmt 0 view .LVU435
 1484 0222 052E     		cmp	r6, #5
 1485 0224 EDD1     		bne	.L89
 393:Src/Modbus_Master/modbus_master.c ****       {
 1486              		.loc 2 393 7 is_stmt 1 view .LVU436
 393:Src/Modbus_Master/modbus_master.c ****       {
 1487              		.loc 2 393 22 is_stmt 0 view .LVU437
 1488 0226 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 393:Src/Modbus_Master/modbus_master.c ****       {
 1489              		.loc 2 393 26 view .LVU438
 1490 022a 2C4B     		ldr	r3, .L126
 1491 022c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 393:Src/Modbus_Master/modbus_master.c ****       {
 1492              		.loc 2 393 10 view .LVU439
 1493 022e 9A42     		cmp	r2, r3
 1494 0230 40D1     		bne	.L112
 400:Src/Modbus_Master/modbus_master.c ****       {
 1495              		.loc 2 400 7 is_stmt 1 view .LVU440
 400:Src/Modbus_Master/modbus_master.c ****       {
 1496              		.loc 2 400 23 is_stmt 0 view .LVU441
 1497 0232 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 400:Src/Modbus_Master/modbus_master.c ****       {
 1498              		.loc 2 400 10 view .LVU442
 1499 0236 03F07F02 		and	r2, r3, #127
 1500 023a AA42     		cmp	r2, r5
 1501 023c 4CD1     		bne	.L113
 407:Src/Modbus_Master/modbus_master.c ****       {
 1502              		.loc 2 407 7 is_stmt 1 view .LVU443
 407:Src/Modbus_Master/modbus_master.c ****       {
 1503              		.loc 2 407 10 is_stmt 0 view .LVU444
 1504 023e DA09     		lsrs	r2, r3, #7
 1505 0240 DAD1     		bne	.L123
 414:Src/Modbus_Master/modbus_master.c ****       {
 1506              		.loc 2 414 7 is_stmt 1 view .LVU445
 1507 0242 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 41


 1508 0244 162B     		cmp	r3, #22
 1509 0246 DCD8     		bhi	.L89
 1510 0248 01A2     		adr	r2, .L94
 1511 024a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1512 024e 00BF     		.p2align 2
 1513              	.L94:
 1514 0250 FF010000 		.word	.L93+1
 1515 0254 FF010000 		.word	.L93+1
 1516 0258 FF010000 		.word	.L93+1
 1517 025c FF010000 		.word	.L93+1
 1518 0260 B1020000 		.word	.L114+1
 1519 0264 B1020000 		.word	.L114+1
 1520 0268 03020000 		.word	.L89+1
 1521 026c 03020000 		.word	.L89+1
 1522 0270 03020000 		.word	.L89+1
 1523 0274 03020000 		.word	.L89+1
 1524 0278 03020000 		.word	.L89+1
 1525 027c 03020000 		.word	.L89+1
 1526 0280 03020000 		.word	.L89+1
 1527 0284 03020000 		.word	.L89+1
 1528 0288 B1020000 		.word	.L114+1
 1529 028c B1020000 		.word	.L114+1
 1530 0290 03020000 		.word	.L89+1
 1531 0294 03020000 		.word	.L89+1
 1532 0298 03020000 		.word	.L89+1
 1533 029c 03020000 		.word	.L89+1
 1534 02a0 03020000 		.word	.L89+1
 1535 02a4 AD020000 		.word	.L95+1
 1536 02a8 FF010000 		.word	.L93+1
 1537              		.p2align 1
 1538              	.L95:
 432:Src/Modbus_Master/modbus_master.c ****           break;
 1539              		.loc 2 432 11 view .LVU446
 1540              	.LVL126:
 433:Src/Modbus_Master/modbus_master.c ****       }
 1541              		.loc 2 433 11 view .LVU447
 432:Src/Modbus_Master/modbus_master.c ****           break;
 1542              		.loc 2 432 23 is_stmt 0 view .LVU448
 1543 02ac 3446     		mov	r4, r6
 433:Src/Modbus_Master/modbus_master.c ****       }
 1544              		.loc 2 433 11 view .LVU449
 1545 02ae A8E7     		b	.L89
 1546              	.LVL127:
 1547              	.L114:
 428:Src/Modbus_Master/modbus_master.c ****           break;
 1548              		.loc 2 428 23 view .LVU450
 1549 02b0 0324     		movs	r4, #3
 1550              	.LVL128:
 428:Src/Modbus_Master/modbus_master.c ****           break;
 1551              		.loc 2 428 23 view .LVU451
 1552 02b2 A6E7     		b	.L89
 1553              	.LVL129:
 1554              	.L112:
 395:Src/Modbus_Master/modbus_master.c ****         break;
 1555              		.loc 2 395 20 view .LVU452
 1556 02b4 E027     		movs	r7, #224
 1557              	.LVL130:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 42


 1558              	.L90:
 439:Src/Modbus_Master/modbus_master.c ****     }
 440:Src/Modbus_Master/modbus_master.c ****   }
 441:Src/Modbus_Master/modbus_master.c ****   
 442:Src/Modbus_Master/modbus_master.c **** 	// verify response is large enough to inspect further
 443:Src/Modbus_Master/modbus_master.c ****   if (!u8MBStatus && u8ModbusADUSize >= 5)
 1559              		.loc 2 443 3 is_stmt 1 view .LVU453
 1560              		.loc 2 443 6 is_stmt 0 view .LVU454
 1561 02b6 0FB9     		cbnz	r7, .L98
 1562              		.loc 2 443 19 discriminator 1 view .LVU455
 1563 02b8 042E     		cmp	r6, #4
 1564 02ba 2DD8     		bhi	.L116
 1565              	.LVL131:
 1566              	.L98:
 444:Src/Modbus_Master/modbus_master.c ****   {
 445:Src/Modbus_Master/modbus_master.c ****     // calculate CRC
 446:Src/Modbus_Master/modbus_master.c ****     u16CRC = 0xFFFF;
 447:Src/Modbus_Master/modbus_master.c ****     for (i = 0; i < (u8ModbusADUSize - 2); i++)
 448:Src/Modbus_Master/modbus_master.c ****     {
 449:Src/Modbus_Master/modbus_master.c ****       u16CRC = crc16_update(u16CRC, u8ModbusADU[i]);
 450:Src/Modbus_Master/modbus_master.c ****     }
 451:Src/Modbus_Master/modbus_master.c ****     
 452:Src/Modbus_Master/modbus_master.c ****     // verify CRC
 453:Src/Modbus_Master/modbus_master.c ****     if (!u8MBStatus && (lowByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 2] ||
 454:Src/Modbus_Master/modbus_master.c ****       highByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 1]))
 455:Src/Modbus_Master/modbus_master.c ****     {
 456:Src/Modbus_Master/modbus_master.c ****       u8MBStatus = ku8MBInvalidCRC;
 457:Src/Modbus_Master/modbus_master.c ****     }	
 458:Src/Modbus_Master/modbus_master.c ****   }
 459:Src/Modbus_Master/modbus_master.c ****   
 460:Src/Modbus_Master/modbus_master.c **** 	// disassemble ADU into words
 461:Src/Modbus_Master/modbus_master.c ****   if (!u8MBStatus)
 1567              		.loc 2 461 3 is_stmt 1 view .LVU456
 1568              		.loc 2 461 6 is_stmt 0 view .LVU457
 1569 02bc 002F     		cmp	r7, #0
 1570 02be 3AD1     		bne	.L101
 462:Src/Modbus_Master/modbus_master.c ****   {
 463:Src/Modbus_Master/modbus_master.c ****     // evaluate returned Modbus function code
 464:Src/Modbus_Master/modbus_master.c ****     switch(u8ModbusADU[1])
 1571              		.loc 2 464 5 is_stmt 1 view .LVU458
 1572              		.loc 2 464 23 is_stmt 0 view .LVU459
 1573 02c0 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 1574              		.loc 2 464 5 view .LVU460
 1575 02c4 042B     		cmp	r3, #4
 1576 02c6 34D8     		bhi	.L102
 1577 02c8 032B     		cmp	r3, #3
 1578 02ca 7FD2     		bcs	.L119
 1579 02cc 013B     		subs	r3, r3, #1
 1580 02ce DBB2     		uxtb	r3, r3
 1581 02d0 012B     		cmp	r3, #1
 1582 02d2 30D8     		bhi	.L101
 1583 02d4 3B46     		mov	r3, r7
 1584 02d6 3DE0     		b	.L104
 1585              	.LVL132:
 1586              	.L113:
 402:Src/Modbus_Master/modbus_master.c ****         break;
 1587              		.loc 2 402 20 view .LVU461
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 43


 1588 02d8 E127     		movs	r7, #225
 1589              	.LVL133:
 402:Src/Modbus_Master/modbus_master.c ****         break;
 1590              		.loc 2 402 20 view .LVU462
 1591 02da ECE7     		b	.L90
 1592              	.L127:
 1593              		.align	2
 1594              	.L126:
 1595 02dc 00000000 		.word	_u8MBSlave
 1596 02e0 6080C100 		.word	12681312
 1597 02e4 00000000 		.word	_u16WriteAddress
 1598 02e8 00000000 		.word	_u16ReadAddress
 1599 02ec 00000000 		.word	_u16ReadQty
 1600 02f0 00000000 		.word	_u16WriteQty
 1601 02f4 00000000 		.word	_u16TransmitBuffer
 1602              	.LVL134:
 1603              	.L100:
 449:Src/Modbus_Master/modbus_master.c ****     }
 1604              		.loc 2 449 7 is_stmt 1 discriminator 3 view .LVU463
 449:Src/Modbus_Master/modbus_master.c ****     }
 1605              		.loc 2 449 16 is_stmt 0 discriminator 3 view .LVU464
 1606 02f8 1DF80410 		ldrb	r1, [sp, r4]	@ zero_extendqisi2
 1607 02fc FFF7FEFF 		bl	crc16_update
 1608              	.LVL135:
 447:Src/Modbus_Master/modbus_master.c ****     {
 1609              		.loc 2 447 44 is_stmt 1 discriminator 3 view .LVU465
 447:Src/Modbus_Master/modbus_master.c ****     {
 1610              		.loc 2 447 45 is_stmt 0 discriminator 3 view .LVU466
 1611 0300 0134     		adds	r4, r4, #1
 1612              	.LVL136:
 447:Src/Modbus_Master/modbus_master.c ****     {
 1613              		.loc 2 447 45 discriminator 3 view .LVU467
 1614 0302 E4B2     		uxtb	r4, r4
 1615              	.LVL137:
 1616              	.L99:
 447:Src/Modbus_Master/modbus_master.c ****     {
 1617              		.loc 2 447 17 is_stmt 1 discriminator 1 view .LVU468
 447:Src/Modbus_Master/modbus_master.c ****     {
 1618              		.loc 2 447 38 is_stmt 0 discriminator 1 view .LVU469
 1619 0304 B31E     		subs	r3, r6, #2
 447:Src/Modbus_Master/modbus_master.c ****     {
 1620              		.loc 2 447 5 discriminator 1 view .LVU470
 1621 0306 9C42     		cmp	r4, r3
 1622 0308 F6DB     		blt	.L100
 453:Src/Modbus_Master/modbus_master.c ****       highByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 1]))
 1623              		.loc 2 453 5 is_stmt 1 view .LVU471
 1624              	.LVL138:
 1625              	.LBB122:
 1626              	.LBI122:
  66:Src/Modbus_Master/word.h **** {
 1627              		.loc 3 66 23 view .LVU472
 1628              	.LBB123:
  68:Src/Modbus_Master/word.h **** }
 1629              		.loc 3 68 3 view .LVU473
  68:Src/Modbus_Master/word.h **** }
 1630              		.loc 3 68 10 is_stmt 0 view .LVU474
 1631 030a C1B2     		uxtb	r1, r0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 44


 1632              	.LVL139:
  68:Src/Modbus_Master/word.h **** }
 1633              		.loc 3 68 10 view .LVU475
 1634              	.LBE123:
 1635              	.LBE122:
 453:Src/Modbus_Master/modbus_master.c ****       highByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 1]))
 1636              		.loc 2 453 55 view .LVU476
 1637 030c 1DF80340 		ldrb	r4, [sp, r3]	@ zero_extendqisi2
 1638              	.LVL140:
 453:Src/Modbus_Master/modbus_master.c ****       highByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 1]))
 1639              		.loc 2 453 21 view .LVU477
 1640 0310 8C42     		cmp	r4, r1
 1641 0312 05D0     		beq	.L124
 456:Src/Modbus_Master/modbus_master.c ****     }	
 1642              		.loc 2 456 18 view .LVU478
 1643 0314 E327     		movs	r7, #227
 1644              	.LVL141:
 456:Src/Modbus_Master/modbus_master.c ****     }	
 1645              		.loc 2 456 18 view .LVU479
 1646 0316 0EE0     		b	.L101
 1647              	.LVL142:
 1648              	.L116:
 447:Src/Modbus_Master/modbus_master.c ****     {
 1649              		.loc 2 447 12 view .LVU480
 1650 0318 3C46     		mov	r4, r7
 1651              	.LVL143:
 446:Src/Modbus_Master/modbus_master.c ****     for (i = 0; i < (u8ModbusADUSize - 2); i++)
 1652              		.loc 2 446 12 view .LVU481
 1653 031a 4FF6FF70 		movw	r0, #65535
 1654 031e F1E7     		b	.L99
 1655              	.LVL144:
 1656              	.L124:
 1657              	.LBB124:
 1658              	.LBI124:
  72:Src/Modbus_Master/word.h **** {
 1659              		.loc 3 72 23 is_stmt 1 view .LVU482
 1660              	.LBB125:
 1661              		.loc 3 74 3 view .LVU483
 1662              		.loc 3 74 10 is_stmt 0 view .LVU484
 1663 0320 C0F30720 		ubfx	r0, r0, #8, #8
 1664              	.LVL145:
 1665              		.loc 3 74 10 view .LVU485
 1666              	.LBE125:
 1667              	.LBE124:
 454:Src/Modbus_Master/modbus_master.c ****     {
 1668              		.loc 2 454 55 view .LVU486
 1669 0324 721E     		subs	r2, r6, #1
 454:Src/Modbus_Master/modbus_master.c ****     {
 1670              		.loc 2 454 38 view .LVU487
 1671 0326 1DF80230 		ldrb	r3, [sp, r2]	@ zero_extendqisi2
 453:Src/Modbus_Master/modbus_master.c ****       highByte(u16CRC) != u8ModbusADU[u8ModbusADUSize - 1]))
 1672              		.loc 2 453 77 view .LVU488
 1673 032a 8342     		cmp	r3, r0
 1674 032c C6D0     		beq	.L98
 456:Src/Modbus_Master/modbus_master.c ****     }	
 1675              		.loc 2 456 18 view .LVU489
 1676 032e E327     		movs	r7, #227
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 45


 1677              	.LVL146:
 456:Src/Modbus_Master/modbus_master.c ****     }	
 1678              		.loc 2 456 18 view .LVU490
 1679 0330 01E0     		b	.L101
 1680              	.LVL147:
 1681              	.L102:
 1682              		.loc 2 464 5 view .LVU491
 1683 0332 172B     		cmp	r3, #23
 1684 0334 4CD0     		beq	.L120
 1685              	.LVL148:
 1686              	.L101:
 465:Src/Modbus_Master/modbus_master.c ****     {
 466:Src/Modbus_Master/modbus_master.c ****       case ku8MBReadCoils:
 467:Src/Modbus_Master/modbus_master.c ****       case ku8MBReadDiscreteInputs:
 468:Src/Modbus_Master/modbus_master.c ****         // load bytes into word; response bytes are ordered L, H, L, H, ...
 469:Src/Modbus_Master/modbus_master.c ****         for (i = 0; i < (u8ModbusADU[2] >> 1); i++)
 470:Src/Modbus_Master/modbus_master.c ****         {
 471:Src/Modbus_Master/modbus_master.c ****           if (i < ku8MaxBufferSize)
 472:Src/Modbus_Master/modbus_master.c ****           {
 473:Src/Modbus_Master/modbus_master.c ****             _u16ResponseBuffer[i] = word(u8ModbusADU[2 * i + 4], u8ModbusADU[2 * i + 3]);
 474:Src/Modbus_Master/modbus_master.c ****           }
 475:Src/Modbus_Master/modbus_master.c ****           
 476:Src/Modbus_Master/modbus_master.c ****           _u8ResponseBufferLength = i;
 477:Src/Modbus_Master/modbus_master.c ****         }
 478:Src/Modbus_Master/modbus_master.c ****         
 479:Src/Modbus_Master/modbus_master.c ****         // in the event of an odd number of bytes, load last byte into zero-padded word
 480:Src/Modbus_Master/modbus_master.c ****         if (u8ModbusADU[2] % 2)
 481:Src/Modbus_Master/modbus_master.c ****         {
 482:Src/Modbus_Master/modbus_master.c ****           if (i < ku8MaxBufferSize)
 483:Src/Modbus_Master/modbus_master.c ****           {
 484:Src/Modbus_Master/modbus_master.c ****             _u16ResponseBuffer[i] = word(0, u8ModbusADU[2 * i + 3]);
 485:Src/Modbus_Master/modbus_master.c ****           }
 486:Src/Modbus_Master/modbus_master.c ****           
 487:Src/Modbus_Master/modbus_master.c ****           _u8ResponseBufferLength = i + 1;
 488:Src/Modbus_Master/modbus_master.c ****         }
 489:Src/Modbus_Master/modbus_master.c ****         break;
 490:Src/Modbus_Master/modbus_master.c ****         
 491:Src/Modbus_Master/modbus_master.c ****       case ku8MBReadInputRegisters:
 492:Src/Modbus_Master/modbus_master.c ****       case ku8MBReadHoldingRegisters:
 493:Src/Modbus_Master/modbus_master.c ****       case ku8MBReadWriteMultipleRegisters:
 494:Src/Modbus_Master/modbus_master.c ****         // load bytes into word; response bytes are ordered H, L, H, L, ...
 495:Src/Modbus_Master/modbus_master.c ****         for (i = 0; i < (u8ModbusADU[2] >> 1); i++)
 496:Src/Modbus_Master/modbus_master.c ****         {
 497:Src/Modbus_Master/modbus_master.c ****           if (i < ku8MaxBufferSize)
 498:Src/Modbus_Master/modbus_master.c ****           {
 499:Src/Modbus_Master/modbus_master.c ****             _u16ResponseBuffer[i] = word(u8ModbusADU[2 * i + 3], u8ModbusADU[2 * i + 4]);
 500:Src/Modbus_Master/modbus_master.c ****           }
 501:Src/Modbus_Master/modbus_master.c ****           
 502:Src/Modbus_Master/modbus_master.c ****           _u8ResponseBufferLength = i;
 503:Src/Modbus_Master/modbus_master.c ****         }
 504:Src/Modbus_Master/modbus_master.c ****         break;
 505:Src/Modbus_Master/modbus_master.c ****     }
 506:Src/Modbus_Master/modbus_master.c ****   }
 507:Src/Modbus_Master/modbus_master.c ****   
 508:Src/Modbus_Master/modbus_master.c ****   _u8TransmitBufferIndex = 0;
 1687              		.loc 2 508 3 is_stmt 1 view .LVU492
 1688              		.loc 2 508 26 is_stmt 0 view .LVU493
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 46


 1689 0336 0023     		movs	r3, #0
 1690 0338 264A     		ldr	r2, .L128
 1691 033a 1370     		strb	r3, [r2]
 509:Src/Modbus_Master/modbus_master.c ****   u16TransmitBufferLength = 0;
 1692              		.loc 2 509 3 is_stmt 1 view .LVU494
 1693              		.loc 2 509 27 is_stmt 0 view .LVU495
 1694 033c 264A     		ldr	r2, .L128+4
 1695 033e 1380     		strh	r3, [r2]	@ movhi
 510:Src/Modbus_Master/modbus_master.c ****   _u8ResponseBufferIndex = 0;
 1696              		.loc 2 510 3 is_stmt 1 view .LVU496
 1697              		.loc 2 510 26 is_stmt 0 view .LVU497
 1698 0340 264A     		ldr	r2, .L128+8
 1699 0342 1370     		strb	r3, [r2]
 511:Src/Modbus_Master/modbus_master.c ****   return u8MBStatus;
 1700              		.loc 2 511 3 is_stmt 1 view .LVU498
 512:Src/Modbus_Master/modbus_master.c **** 	
 513:Src/Modbus_Master/modbus_master.c **** }
 1701              		.loc 2 513 1 is_stmt 0 view .LVU499
 1702 0344 3846     		mov	r0, r7
 1703 0346 41B0     		add	sp, sp, #260
 1704              	.LCFI9:
 1705              		.cfi_remember_state
 1706              		.cfi_def_cfa_offset 28
 1707              		@ sp needed
 1708 0348 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1709              	.LVL149:
 1710              	.L105:
 1711              	.LCFI10:
 1712              		.cfi_restore_state
 476:Src/Modbus_Master/modbus_master.c ****         }
 1713              		.loc 2 476 11 is_stmt 1 discriminator 2 view .LVU500
 476:Src/Modbus_Master/modbus_master.c ****         }
 1714              		.loc 2 476 35 is_stmt 0 discriminator 2 view .LVU501
 1715 034c 244A     		ldr	r2, .L128+12
 1716 034e 1370     		strb	r3, [r2]
 469:Src/Modbus_Master/modbus_master.c ****         {
 1717              		.loc 2 469 48 is_stmt 1 discriminator 2 view .LVU502
 469:Src/Modbus_Master/modbus_master.c ****         {
 1718              		.loc 2 469 49 is_stmt 0 discriminator 2 view .LVU503
 1719 0350 0133     		adds	r3, r3, #1
 1720              	.LVL150:
 469:Src/Modbus_Master/modbus_master.c ****         {
 1721              		.loc 2 469 49 discriminator 2 view .LVU504
 1722 0352 DBB2     		uxtb	r3, r3
 1723              	.LVL151:
 1724              	.L104:
 469:Src/Modbus_Master/modbus_master.c ****         {
 1725              		.loc 2 469 21 is_stmt 1 discriminator 1 view .LVU505
 469:Src/Modbus_Master/modbus_master.c ****         {
 1726              		.loc 2 469 37 is_stmt 0 discriminator 1 view .LVU506
 1727 0354 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 469:Src/Modbus_Master/modbus_master.c ****         {
 1728              		.loc 2 469 9 discriminator 1 view .LVU507
 1729 0358 B3EB520F 		cmp	r3, r2, lsr #1
 1730 035c 0ED2     		bcs	.L125
 471:Src/Modbus_Master/modbus_master.c ****           {
 1731              		.loc 2 471 11 is_stmt 1 view .LVU508
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 47


 471:Src/Modbus_Master/modbus_master.c ****           {
 1732              		.loc 2 471 14 is_stmt 0 view .LVU509
 1733 035e 3F2B     		cmp	r3, #63
 1734 0360 F4D8     		bhi	.L105
 473:Src/Modbus_Master/modbus_master.c ****           }
 1735              		.loc 2 473 13 is_stmt 1 view .LVU510
 473:Src/Modbus_Master/modbus_master.c ****           }
 1736              		.loc 2 473 60 is_stmt 0 view .LVU511
 1737 0362 9A1C     		adds	r2, r3, #2
 473:Src/Modbus_Master/modbus_master.c ****           }
 1738              		.loc 2 473 80 view .LVU512
 1739 0364 5900     		lsls	r1, r3, #1
 473:Src/Modbus_Master/modbus_master.c ****           }
 1740              		.loc 2 473 84 view .LVU513
 1741 0366 0331     		adds	r1, r1, #3
 1742              	.LVL152:
 1743              	.LBB126:
 1744              	.LBI126:
  75:Src/Modbus_Master/word.h **** }
  76:Src/Modbus_Master/word.h **** 
  77:Src/Modbus_Master/word.h **** static inline uint16_t word(uint8_t H_Byte,uint8_t L_Byte)
 1745              		.loc 3 77 24 is_stmt 1 view .LVU514
 1746              	.LBB127:
  78:Src/Modbus_Master/word.h **** {
  79:Src/Modbus_Master/word.h **** 	uint16_t word;
 1747              		.loc 3 79 2 view .LVU515
  80:Src/Modbus_Master/word.h **** 	word = (uint16_t)(H_Byte<<8);
 1748              		.loc 3 80 2 view .LVU516
 1749              		.loc 3 80 9 is_stmt 0 view .LVU517
 1750 0368 1DF81200 		ldrb	r0, [sp, r2, lsl #1]	@ zero_extendqisi2
 1751              	.LVL153:
  81:Src/Modbus_Master/word.h **** 	word = word + L_Byte;
 1752              		.loc 3 81 2 is_stmt 1 view .LVU518
 1753              		.loc 3 81 14 is_stmt 0 view .LVU519
 1754 036c 1DF80120 		ldrb	r2, [sp, r1]	@ zero_extendqisi2
 1755              	.LVL154:
 1756              		.loc 3 81 7 view .LVU520
 1757 0370 02EB0022 		add	r2, r2, r0, lsl #8
 1758              	.LVL155:
  82:Src/Modbus_Master/word.h ****   return word;
 1759              		.loc 3 82 3 is_stmt 1 view .LVU521
 1760              		.loc 3 82 3 is_stmt 0 view .LVU522
 1761              	.LBE127:
 1762              	.LBE126:
 473:Src/Modbus_Master/modbus_master.c ****           }
 1763              		.loc 2 473 35 view .LVU523
 1764 0374 1B49     		ldr	r1, .L128+16
 1765 0376 21F81320 		strh	r2, [r1, r3, lsl #1]	@ movhi
 1766 037a E7E7     		b	.L105
 1767              	.L125:
 480:Src/Modbus_Master/modbus_master.c ****         {
 1768              		.loc 2 480 9 is_stmt 1 view .LVU524
 480:Src/Modbus_Master/modbus_master.c ****         {
 1769              		.loc 2 480 12 is_stmt 0 view .LVU525
 1770 037c 12F0010F 		tst	r2, #1
 1771 0380 D9D0     		beq	.L101
 482:Src/Modbus_Master/modbus_master.c ****           {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 48


 1772              		.loc 2 482 11 is_stmt 1 view .LVU526
 482:Src/Modbus_Master/modbus_master.c ****           {
 1773              		.loc 2 482 14 is_stmt 0 view .LVU527
 1774 0382 3F2B     		cmp	r3, #63
 1775 0384 06D8     		bhi	.L107
 484:Src/Modbus_Master/modbus_master.c ****           }
 1776              		.loc 2 484 13 is_stmt 1 view .LVU528
 484:Src/Modbus_Master/modbus_master.c ****           }
 1777              		.loc 2 484 59 is_stmt 0 view .LVU529
 1778 0386 5A00     		lsls	r2, r3, #1
 484:Src/Modbus_Master/modbus_master.c ****           }
 1779              		.loc 2 484 63 view .LVU530
 1780 0388 0332     		adds	r2, r2, #3
 1781              	.LVL156:
 1782              	.LBB128:
 1783              	.LBI128:
  77:Src/Modbus_Master/word.h **** {
 1784              		.loc 3 77 24 is_stmt 1 view .LVU531
 1785              	.LBB129:
  79:Src/Modbus_Master/word.h **** 	word = (uint16_t)(H_Byte<<8);
 1786              		.loc 3 79 2 view .LVU532
  80:Src/Modbus_Master/word.h **** 	word = word + L_Byte;
 1787              		.loc 3 80 2 view .LVU533
  81:Src/Modbus_Master/word.h ****   return word;
 1788              		.loc 3 81 2 view .LVU534
  81:Src/Modbus_Master/word.h ****   return word;
 1789              		.loc 3 81 14 is_stmt 0 view .LVU535
 1790 038a 1DF80210 		ldrb	r1, [sp, r2]	@ zero_extendqisi2
 1791              	.LVL157:
 1792              		.loc 3 82 3 is_stmt 1 view .LVU536
 1793              		.loc 3 82 3 is_stmt 0 view .LVU537
 1794              	.LBE129:
 1795              	.LBE128:
 484:Src/Modbus_Master/modbus_master.c ****           }
 1796              		.loc 2 484 35 view .LVU538
 1797 038e 154A     		ldr	r2, .L128+16
 1798 0390 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 1799              	.L107:
 487:Src/Modbus_Master/modbus_master.c ****         }
 1800              		.loc 2 487 11 is_stmt 1 view .LVU539
 487:Src/Modbus_Master/modbus_master.c ****         }
 1801              		.loc 2 487 39 is_stmt 0 view .LVU540
 1802 0394 0133     		adds	r3, r3, #1
 1803              	.LVL158:
 487:Src/Modbus_Master/modbus_master.c ****         }
 1804              		.loc 2 487 35 view .LVU541
 1805 0396 124A     		ldr	r2, .L128+12
 1806 0398 1370     		strb	r3, [r2]
 1807 039a CCE7     		b	.L101
 1808              	.LVL159:
 1809              	.L108:
 502:Src/Modbus_Master/modbus_master.c ****         }
 1810              		.loc 2 502 11 is_stmt 1 discriminator 2 view .LVU542
 502:Src/Modbus_Master/modbus_master.c ****         }
 1811              		.loc 2 502 35 is_stmt 0 discriminator 2 view .LVU543
 1812 039c 104A     		ldr	r2, .L128+12
 1813 039e 1370     		strb	r3, [r2]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 49


 495:Src/Modbus_Master/modbus_master.c ****         {
 1814              		.loc 2 495 48 is_stmt 1 discriminator 2 view .LVU544
 495:Src/Modbus_Master/modbus_master.c ****         {
 1815              		.loc 2 495 49 is_stmt 0 discriminator 2 view .LVU545
 1816 03a0 0133     		adds	r3, r3, #1
 1817              	.LVL160:
 495:Src/Modbus_Master/modbus_master.c ****         {
 1818              		.loc 2 495 49 discriminator 2 view .LVU546
 1819 03a2 DBB2     		uxtb	r3, r3
 1820              	.LVL161:
 1821              	.L109:
 495:Src/Modbus_Master/modbus_master.c ****         {
 1822              		.loc 2 495 21 is_stmt 1 discriminator 1 view .LVU547
 495:Src/Modbus_Master/modbus_master.c ****         {
 1823              		.loc 2 495 37 is_stmt 0 discriminator 1 view .LVU548
 1824 03a4 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 495:Src/Modbus_Master/modbus_master.c ****         {
 1825              		.loc 2 495 9 discriminator 1 view .LVU549
 1826 03a8 B3EB520F 		cmp	r3, r2, lsr #1
 1827 03ac C3D2     		bcs	.L101
 497:Src/Modbus_Master/modbus_master.c ****           {
 1828              		.loc 2 497 11 is_stmt 1 view .LVU550
 497:Src/Modbus_Master/modbus_master.c ****           {
 1829              		.loc 2 497 14 is_stmt 0 view .LVU551
 1830 03ae 3F2B     		cmp	r3, #63
 1831 03b0 F4D8     		bhi	.L108
 499:Src/Modbus_Master/modbus_master.c ****           }
 1832              		.loc 2 499 13 is_stmt 1 view .LVU552
 499:Src/Modbus_Master/modbus_master.c ****           }
 1833              		.loc 2 499 56 is_stmt 0 view .LVU553
 1834 03b2 5A00     		lsls	r2, r3, #1
 499:Src/Modbus_Master/modbus_master.c ****           }
 1835              		.loc 2 499 60 view .LVU554
 1836 03b4 0332     		adds	r2, r2, #3
 499:Src/Modbus_Master/modbus_master.c ****           }
 1837              		.loc 2 499 84 view .LVU555
 1838 03b6 991C     		adds	r1, r3, #2
 1839              	.LVL162:
 1840              	.LBB130:
 1841              	.LBI130:
  77:Src/Modbus_Master/word.h **** {
 1842              		.loc 3 77 24 is_stmt 1 view .LVU556
 1843              	.LBB131:
  79:Src/Modbus_Master/word.h **** 	word = (uint16_t)(H_Byte<<8);
 1844              		.loc 3 79 2 view .LVU557
  80:Src/Modbus_Master/word.h **** 	word = word + L_Byte;
 1845              		.loc 3 80 2 view .LVU558
  80:Src/Modbus_Master/word.h **** 	word = word + L_Byte;
 1846              		.loc 3 80 9 is_stmt 0 view .LVU559
 1847 03b8 1DF80200 		ldrb	r0, [sp, r2]	@ zero_extendqisi2
 1848              	.LVL163:
  81:Src/Modbus_Master/word.h ****   return word;
 1849              		.loc 3 81 2 is_stmt 1 view .LVU560
  81:Src/Modbus_Master/word.h ****   return word;
 1850              		.loc 3 81 14 is_stmt 0 view .LVU561
 1851 03bc 1DF81120 		ldrb	r2, [sp, r1, lsl #1]	@ zero_extendqisi2
  81:Src/Modbus_Master/word.h ****   return word;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 50


 1852              		.loc 3 81 7 view .LVU562
 1853 03c0 02EB0022 		add	r2, r2, r0, lsl #8
 1854              	.LVL164:
 1855              		.loc 3 82 3 is_stmt 1 view .LVU563
 1856              		.loc 3 82 3 is_stmt 0 view .LVU564
 1857              	.LBE131:
 1858              	.LBE130:
 499:Src/Modbus_Master/modbus_master.c ****           }
 1859              		.loc 2 499 35 view .LVU565
 1860 03c4 0749     		ldr	r1, .L128+16
 1861 03c6 21F81320 		strh	r2, [r1, r3, lsl #1]	@ movhi
 1862 03ca E7E7     		b	.L108
 1863              	.LVL165:
 1864              	.L119:
 464:Src/Modbus_Master/modbus_master.c ****     {
 1865              		.loc 2 464 5 view .LVU566
 1866 03cc 3B46     		mov	r3, r7
 1867 03ce E9E7     		b	.L109
 1868              	.L120:
 1869 03d0 3B46     		mov	r3, r7
 1870 03d2 E7E7     		b	.L109
 1871              	.L129:
 1872              		.align	2
 1873              	.L128:
 1874 03d4 00000000 		.word	_u8TransmitBufferIndex
 1875 03d8 00000000 		.word	u16TransmitBufferLength
 1876 03dc 00000000 		.word	_u8ResponseBufferIndex
 1877 03e0 00000000 		.word	_u8ResponseBufferLength
 1878 03e4 00000000 		.word	_u16ResponseBuffer
 1879              		.cfi_endproc
 1880              	.LFE151:
 1882              		.section	.text.ModbusMaster_readCoils,"ax",%progbits
 1883              		.align	1
 1884              		.global	ModbusMaster_readCoils
 1885              		.syntax unified
 1886              		.thumb
 1887              		.thumb_func
 1888              		.fpu fpv4-sp-d16
 1890              	ModbusMaster_readCoils:
 1891              	.LVL166:
 1892              	.LFB152:
 514:Src/Modbus_Master/modbus_master.c **** 
 515:Src/Modbus_Master/modbus_master.c **** 
 516:Src/Modbus_Master/modbus_master.c **** 
 517:Src/Modbus_Master/modbus_master.c **** 
 518:Src/Modbus_Master/modbus_master.c **** /**
 519:Src/Modbus_Master/modbus_master.c **** Modbus function 0x01 Read Coils.
 520:Src/Modbus_Master/modbus_master.c **** 
 521:Src/Modbus_Master/modbus_master.c **** This function code is used to read from 1 to 2000 contiguous status of 
 522:Src/Modbus_Master/modbus_master.c **** coils in a remote device. The request specifies the starting address, 
 523:Src/Modbus_Master/modbus_master.c **** i.e. the address of the first coil specified, and the number of coils. 
 524:Src/Modbus_Master/modbus_master.c **** Coils are addressed starting at zero.
 525:Src/Modbus_Master/modbus_master.c **** 
 526:Src/Modbus_Master/modbus_master.c **** The coils in the response buffer are packed as one coil per bit of the 
 527:Src/Modbus_Master/modbus_master.c **** data field. Status is indicated as 1=ON and 0=OFF. The LSB of the first 
 528:Src/Modbus_Master/modbus_master.c **** data word contains the output addressed in the query. The other coils 
 529:Src/Modbus_Master/modbus_master.c **** follow toward the high order end of this word and from low order to high 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 51


 530:Src/Modbus_Master/modbus_master.c **** order in subsequent words.
 531:Src/Modbus_Master/modbus_master.c **** 
 532:Src/Modbus_Master/modbus_master.c **** If the returned quantity is not a multiple of sixteen, the remaining 
 533:Src/Modbus_Master/modbus_master.c **** bits in the final data word will be padded with zeros (toward the high 
 534:Src/Modbus_Master/modbus_master.c **** order end of the word).
 535:Src/Modbus_Master/modbus_master.c **** 
 536:Src/Modbus_Master/modbus_master.c **** @param u16ReadAddress address of first coil (0x0000..0xFFFF)
 537:Src/Modbus_Master/modbus_master.c **** @param u16BitQty quantity of coils to read (1..2000, enforced by remote device)
 538:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 539:Src/Modbus_Master/modbus_master.c **** @ingroup discrete
 540:Src/Modbus_Master/modbus_master.c **** */
 541:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_readCoils(uint8_t SlaveID,uint16_t u16ReadAddress, uint16_t u16BitQty)
 542:Src/Modbus_Master/modbus_master.c **** {
 1893              		.loc 2 542 1 is_stmt 1 view -0
 1894              		.cfi_startproc
 1895              		@ args = 0, pretend = 0, frame = 0
 1896              		@ frame_needed = 0, uses_anonymous_args = 0
 1897              		.loc 2 542 1 is_stmt 0 view .LVU568
 1898 0000 08B5     		push	{r3, lr}
 1899              	.LCFI11:
 1900              		.cfi_def_cfa_offset 8
 1901              		.cfi_offset 3, -8
 1902              		.cfi_offset 14, -4
 543:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 1903              		.loc 2 543 2 is_stmt 1 view .LVU569
 1904              		.loc 2 543 13 is_stmt 0 view .LVU570
 1905 0002 054B     		ldr	r3, .L132
 1906 0004 1870     		strb	r0, [r3]
 544:Src/Modbus_Master/modbus_master.c ****   _u16ReadAddress = u16ReadAddress;
 1907              		.loc 2 544 3 is_stmt 1 view .LVU571
 1908              		.loc 2 544 19 is_stmt 0 view .LVU572
 1909 0006 054B     		ldr	r3, .L132+4
 1910 0008 1980     		strh	r1, [r3]	@ movhi
 545:Src/Modbus_Master/modbus_master.c ****   _u16ReadQty = u16BitQty;
 1911              		.loc 2 545 3 is_stmt 1 view .LVU573
 1912              		.loc 2 545 15 is_stmt 0 view .LVU574
 1913 000a 054B     		ldr	r3, .L132+8
 1914 000c 1A80     		strh	r2, [r3]	@ movhi
 546:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBReadCoils);
 1915              		.loc 2 546 3 is_stmt 1 view .LVU575
 1916              		.loc 2 546 10 is_stmt 0 view .LVU576
 1917 000e 0120     		movs	r0, #1
 1918              	.LVL167:
 1919              		.loc 2 546 10 view .LVU577
 1920 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 1921              	.LVL168:
 547:Src/Modbus_Master/modbus_master.c **** }
 1922              		.loc 2 547 1 view .LVU578
 1923 0014 08BD     		pop	{r3, pc}
 1924              	.L133:
 1925 0016 00BF     		.align	2
 1926              	.L132:
 1927 0018 00000000 		.word	_u8MBSlave
 1928 001c 00000000 		.word	_u16ReadAddress
 1929 0020 00000000 		.word	_u16ReadQty
 1930              		.cfi_endproc
 1931              	.LFE152:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 52


 1933              		.section	.text.ModbusMaster_readDiscreteInputs,"ax",%progbits
 1934              		.align	1
 1935              		.global	ModbusMaster_readDiscreteInputs
 1936              		.syntax unified
 1937              		.thumb
 1938              		.thumb_func
 1939              		.fpu fpv4-sp-d16
 1941              	ModbusMaster_readDiscreteInputs:
 1942              	.LVL169:
 1943              	.LFB153:
 548:Src/Modbus_Master/modbus_master.c **** 
 549:Src/Modbus_Master/modbus_master.c **** 
 550:Src/Modbus_Master/modbus_master.c **** /**
 551:Src/Modbus_Master/modbus_master.c **** Modbus function 0x02 Read Discrete Inputs.
 552:Src/Modbus_Master/modbus_master.c **** 
 553:Src/Modbus_Master/modbus_master.c **** This function code is used to read from 1 to 2000 contiguous status of 
 554:Src/Modbus_Master/modbus_master.c **** discrete inputs in a remote device. The request specifies the starting 
 555:Src/Modbus_Master/modbus_master.c **** address, i.e. the address of the first input specified, and the number 
 556:Src/Modbus_Master/modbus_master.c **** of inputs. Discrete inputs are addressed starting at zero.
 557:Src/Modbus_Master/modbus_master.c **** 
 558:Src/Modbus_Master/modbus_master.c **** The discrete inputs in the response buffer are packed as one input per 
 559:Src/Modbus_Master/modbus_master.c **** bit of the data field. Status is indicated as 1=ON; 0=OFF. The LSB of 
 560:Src/Modbus_Master/modbus_master.c **** the first data word contains the input addressed in the query. The other 
 561:Src/Modbus_Master/modbus_master.c **** inputs follow toward the high order end of this word, and from low order 
 562:Src/Modbus_Master/modbus_master.c **** to high order in subsequent words.
 563:Src/Modbus_Master/modbus_master.c **** 
 564:Src/Modbus_Master/modbus_master.c **** If the returned quantity is not a multiple of sixteen, the remaining 
 565:Src/Modbus_Master/modbus_master.c **** bits in the final data word will be padded with zeros (toward the high 
 566:Src/Modbus_Master/modbus_master.c **** order end of the word).
 567:Src/Modbus_Master/modbus_master.c **** 
 568:Src/Modbus_Master/modbus_master.c **** @param u16ReadAddress address of first discrete input (0x0000..0xFFFF)
 569:Src/Modbus_Master/modbus_master.c **** @param u16BitQty quantity of discrete inputs to read (1..2000, enforced by remote device)
 570:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 571:Src/Modbus_Master/modbus_master.c **** @ingroup discrete
 572:Src/Modbus_Master/modbus_master.c **** */
 573:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_readDiscreteInputs(uint8_t SlaveID,uint16_t u16ReadAddress,
 574:Src/Modbus_Master/modbus_master.c ****   uint16_t u16BitQty)
 575:Src/Modbus_Master/modbus_master.c **** {
 1944              		.loc 2 575 1 is_stmt 1 view -0
 1945              		.cfi_startproc
 1946              		@ args = 0, pretend = 0, frame = 0
 1947              		@ frame_needed = 0, uses_anonymous_args = 0
 1948              		.loc 2 575 1 is_stmt 0 view .LVU580
 1949 0000 08B5     		push	{r3, lr}
 1950              	.LCFI12:
 1951              		.cfi_def_cfa_offset 8
 1952              		.cfi_offset 3, -8
 1953              		.cfi_offset 14, -4
 576:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 1954              		.loc 2 576 2 is_stmt 1 view .LVU581
 1955              		.loc 2 576 13 is_stmt 0 view .LVU582
 1956 0002 054B     		ldr	r3, .L136
 1957 0004 1870     		strb	r0, [r3]
 577:Src/Modbus_Master/modbus_master.c ****   _u16ReadAddress = u16ReadAddress;
 1958              		.loc 2 577 3 is_stmt 1 view .LVU583
 1959              		.loc 2 577 19 is_stmt 0 view .LVU584
 1960 0006 054B     		ldr	r3, .L136+4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 53


 1961 0008 1980     		strh	r1, [r3]	@ movhi
 578:Src/Modbus_Master/modbus_master.c ****   _u16ReadQty = u16BitQty;
 1962              		.loc 2 578 3 is_stmt 1 view .LVU585
 1963              		.loc 2 578 15 is_stmt 0 view .LVU586
 1964 000a 054B     		ldr	r3, .L136+8
 1965 000c 1A80     		strh	r2, [r3]	@ movhi
 579:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBReadDiscreteInputs);
 1966              		.loc 2 579 3 is_stmt 1 view .LVU587
 1967              		.loc 2 579 10 is_stmt 0 view .LVU588
 1968 000e 0220     		movs	r0, #2
 1969              	.LVL170:
 1970              		.loc 2 579 10 view .LVU589
 1971 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 1972              	.LVL171:
 580:Src/Modbus_Master/modbus_master.c **** }
 1973              		.loc 2 580 1 view .LVU590
 1974 0014 08BD     		pop	{r3, pc}
 1975              	.L137:
 1976 0016 00BF     		.align	2
 1977              	.L136:
 1978 0018 00000000 		.word	_u8MBSlave
 1979 001c 00000000 		.word	_u16ReadAddress
 1980 0020 00000000 		.word	_u16ReadQty
 1981              		.cfi_endproc
 1982              	.LFE153:
 1984              		.section	.text.ModbusMaster_readHoldingRegisters,"ax",%progbits
 1985              		.align	1
 1986              		.global	ModbusMaster_readHoldingRegisters
 1987              		.syntax unified
 1988              		.thumb
 1989              		.thumb_func
 1990              		.fpu fpv4-sp-d16
 1992              	ModbusMaster_readHoldingRegisters:
 1993              	.LVL172:
 1994              	.LFB154:
 581:Src/Modbus_Master/modbus_master.c **** 
 582:Src/Modbus_Master/modbus_master.c **** 
 583:Src/Modbus_Master/modbus_master.c **** /**
 584:Src/Modbus_Master/modbus_master.c **** Modbus function 0x03 Read Holding Registers.
 585:Src/Modbus_Master/modbus_master.c **** 
 586:Src/Modbus_Master/modbus_master.c **** This function code is used to read the contents of a contiguous block of 
 587:Src/Modbus_Master/modbus_master.c **** holding registers in a remote device. The request specifies the starting 
 588:Src/Modbus_Master/modbus_master.c **** register address and the number of registers. Registers are addressed 
 589:Src/Modbus_Master/modbus_master.c **** starting at zero.
 590:Src/Modbus_Master/modbus_master.c **** 
 591:Src/Modbus_Master/modbus_master.c **** The register data in the response buffer is packed as one word per 
 592:Src/Modbus_Master/modbus_master.c **** register.
 593:Src/Modbus_Master/modbus_master.c **** 
 594:Src/Modbus_Master/modbus_master.c **** @param u16ReadAddress address of the first holding register (0x0000..0xFFFF)
 595:Src/Modbus_Master/modbus_master.c **** @param u16ReadQty quantity of holding registers to read (1..125, enforced by remote device)
 596:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 597:Src/Modbus_Master/modbus_master.c **** @ingroup register
 598:Src/Modbus_Master/modbus_master.c **** */
 599:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_readHoldingRegisters(uint8_t SlaveID,uint16_t u16ReadAddress,
 600:Src/Modbus_Master/modbus_master.c ****   uint16_t u16ReadQty)
 601:Src/Modbus_Master/modbus_master.c **** {
 1995              		.loc 2 601 1 is_stmt 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 54


 1996              		.cfi_startproc
 1997              		@ args = 0, pretend = 0, frame = 0
 1998              		@ frame_needed = 0, uses_anonymous_args = 0
 1999              		.loc 2 601 1 is_stmt 0 view .LVU592
 2000 0000 08B5     		push	{r3, lr}
 2001              	.LCFI13:
 2002              		.cfi_def_cfa_offset 8
 2003              		.cfi_offset 3, -8
 2004              		.cfi_offset 14, -4
 602:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2005              		.loc 2 602 2 is_stmt 1 view .LVU593
 2006              		.loc 2 602 13 is_stmt 0 view .LVU594
 2007 0002 054B     		ldr	r3, .L140
 2008 0004 1870     		strb	r0, [r3]
 603:Src/Modbus_Master/modbus_master.c ****   _u16ReadAddress = u16ReadAddress;
 2009              		.loc 2 603 3 is_stmt 1 view .LVU595
 2010              		.loc 2 603 19 is_stmt 0 view .LVU596
 2011 0006 054B     		ldr	r3, .L140+4
 2012 0008 1980     		strh	r1, [r3]	@ movhi
 604:Src/Modbus_Master/modbus_master.c ****   _u16ReadQty = u16ReadQty;
 2013              		.loc 2 604 3 is_stmt 1 view .LVU597
 2014              		.loc 2 604 15 is_stmt 0 view .LVU598
 2015 000a 054B     		ldr	r3, .L140+8
 2016 000c 1A80     		strh	r2, [r3]	@ movhi
 605:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBReadHoldingRegisters);
 2017              		.loc 2 605 3 is_stmt 1 view .LVU599
 2018              		.loc 2 605 10 is_stmt 0 view .LVU600
 2019 000e 0320     		movs	r0, #3
 2020              	.LVL173:
 2021              		.loc 2 605 10 view .LVU601
 2022 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2023              	.LVL174:
 606:Src/Modbus_Master/modbus_master.c **** }
 2024              		.loc 2 606 1 view .LVU602
 2025 0014 08BD     		pop	{r3, pc}
 2026              	.L141:
 2027 0016 00BF     		.align	2
 2028              	.L140:
 2029 0018 00000000 		.word	_u8MBSlave
 2030 001c 00000000 		.word	_u16ReadAddress
 2031 0020 00000000 		.word	_u16ReadQty
 2032              		.cfi_endproc
 2033              	.LFE154:
 2035              		.section	.text.ModbusMaster_readInputRegisters,"ax",%progbits
 2036              		.align	1
 2037              		.global	ModbusMaster_readInputRegisters
 2038              		.syntax unified
 2039              		.thumb
 2040              		.thumb_func
 2041              		.fpu fpv4-sp-d16
 2043              	ModbusMaster_readInputRegisters:
 2044              	.LVL175:
 2045              	.LFB155:
 607:Src/Modbus_Master/modbus_master.c **** 
 608:Src/Modbus_Master/modbus_master.c **** 
 609:Src/Modbus_Master/modbus_master.c **** /**
 610:Src/Modbus_Master/modbus_master.c **** Modbus function 0x04 Read Input Registers.
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 55


 611:Src/Modbus_Master/modbus_master.c **** 
 612:Src/Modbus_Master/modbus_master.c **** This function code is used to read from 1 to 125 contiguous input 
 613:Src/Modbus_Master/modbus_master.c **** registers in a remote device. The request specifies the starting 
 614:Src/Modbus_Master/modbus_master.c **** register address and the number of registers. Registers are addressed 
 615:Src/Modbus_Master/modbus_master.c **** starting at zero.
 616:Src/Modbus_Master/modbus_master.c **** 
 617:Src/Modbus_Master/modbus_master.c **** The register data in the response buffer is packed as one word per 
 618:Src/Modbus_Master/modbus_master.c **** register.
 619:Src/Modbus_Master/modbus_master.c **** 
 620:Src/Modbus_Master/modbus_master.c **** @param u16ReadAddress address of the first input register (0x0000..0xFFFF)
 621:Src/Modbus_Master/modbus_master.c **** @param u16ReadQty quantity of input registers to read (1..125, enforced by remote device)
 622:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 623:Src/Modbus_Master/modbus_master.c **** @ingroup register
 624:Src/Modbus_Master/modbus_master.c **** */
 625:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_readInputRegisters(uint8_t SlaveID,uint16_t u16ReadAddress,
 626:Src/Modbus_Master/modbus_master.c ****   uint8_t u16ReadQty)
 627:Src/Modbus_Master/modbus_master.c **** {
 2046              		.loc 2 627 1 is_stmt 1 view -0
 2047              		.cfi_startproc
 2048              		@ args = 0, pretend = 0, frame = 0
 2049              		@ frame_needed = 0, uses_anonymous_args = 0
 2050              		.loc 2 627 1 is_stmt 0 view .LVU604
 2051 0000 08B5     		push	{r3, lr}
 2052              	.LCFI14:
 2053              		.cfi_def_cfa_offset 8
 2054              		.cfi_offset 3, -8
 2055              		.cfi_offset 14, -4
 628:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2056              		.loc 2 628 2 is_stmt 1 view .LVU605
 2057              		.loc 2 628 13 is_stmt 0 view .LVU606
 2058 0002 054B     		ldr	r3, .L144
 2059 0004 1870     		strb	r0, [r3]
 629:Src/Modbus_Master/modbus_master.c ****   _u16ReadAddress = u16ReadAddress;
 2060              		.loc 2 629 3 is_stmt 1 view .LVU607
 2061              		.loc 2 629 19 is_stmt 0 view .LVU608
 2062 0006 054B     		ldr	r3, .L144+4
 2063 0008 1980     		strh	r1, [r3]	@ movhi
 630:Src/Modbus_Master/modbus_master.c ****   _u16ReadQty = u16ReadQty;
 2064              		.loc 2 630 3 is_stmt 1 view .LVU609
 2065              		.loc 2 630 15 is_stmt 0 view .LVU610
 2066 000a 054B     		ldr	r3, .L144+8
 2067 000c 1A80     		strh	r2, [r3]	@ movhi
 631:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBReadInputRegisters);
 2068              		.loc 2 631 3 is_stmt 1 view .LVU611
 2069              		.loc 2 631 10 is_stmt 0 view .LVU612
 2070 000e 0420     		movs	r0, #4
 2071              	.LVL176:
 2072              		.loc 2 631 10 view .LVU613
 2073 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2074              	.LVL177:
 632:Src/Modbus_Master/modbus_master.c **** }
 2075              		.loc 2 632 1 view .LVU614
 2076 0014 08BD     		pop	{r3, pc}
 2077              	.L145:
 2078 0016 00BF     		.align	2
 2079              	.L144:
 2080 0018 00000000 		.word	_u8MBSlave
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 56


 2081 001c 00000000 		.word	_u16ReadAddress
 2082 0020 00000000 		.word	_u16ReadQty
 2083              		.cfi_endproc
 2084              	.LFE155:
 2086              		.section	.text.ModbusMaster_writeSingleCoil,"ax",%progbits
 2087              		.align	1
 2088              		.global	ModbusMaster_writeSingleCoil
 2089              		.syntax unified
 2090              		.thumb
 2091              		.thumb_func
 2092              		.fpu fpv4-sp-d16
 2094              	ModbusMaster_writeSingleCoil:
 2095              	.LVL178:
 2096              	.LFB156:
 633:Src/Modbus_Master/modbus_master.c **** 
 634:Src/Modbus_Master/modbus_master.c **** 
 635:Src/Modbus_Master/modbus_master.c **** /**
 636:Src/Modbus_Master/modbus_master.c **** Modbus function 0x05 Write Single Coil.
 637:Src/Modbus_Master/modbus_master.c **** 
 638:Src/Modbus_Master/modbus_master.c **** This function code is used to write a single output to either ON or OFF 
 639:Src/Modbus_Master/modbus_master.c **** in a remote device. The requested ON/OFF state is specified by a 
 640:Src/Modbus_Master/modbus_master.c **** constant in the state field. A non-zero value requests the output to be 
 641:Src/Modbus_Master/modbus_master.c **** ON and a value of 0 requests it to be OFF. The request specifies the 
 642:Src/Modbus_Master/modbus_master.c **** address of the coil to be forced. Coils are addressed starting at zero.
 643:Src/Modbus_Master/modbus_master.c **** 
 644:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the coil (0x0000..0xFFFF)
 645:Src/Modbus_Master/modbus_master.c **** @param u8State 0=OFF, non-zero=ON (0x00..0xFF)
 646:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 647:Src/Modbus_Master/modbus_master.c **** @ingroup discrete
 648:Src/Modbus_Master/modbus_master.c **** */
 649:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_writeSingleCoil(uint8_t SlaveID,uint16_t u16WriteAddress, uint8_t u8State)
 650:Src/Modbus_Master/modbus_master.c **** {
 2097              		.loc 2 650 1 is_stmt 1 view -0
 2098              		.cfi_startproc
 2099              		@ args = 0, pretend = 0, frame = 0
 2100              		@ frame_needed = 0, uses_anonymous_args = 0
 2101              		.loc 2 650 1 is_stmt 0 view .LVU616
 2102 0000 08B5     		push	{r3, lr}
 2103              	.LCFI15:
 2104              		.cfi_def_cfa_offset 8
 2105              		.cfi_offset 3, -8
 2106              		.cfi_offset 14, -4
 651:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2107              		.loc 2 651 2 is_stmt 1 view .LVU617
 2108              		.loc 2 651 13 is_stmt 0 view .LVU618
 2109 0002 074B     		ldr	r3, .L150
 2110 0004 1870     		strb	r0, [r3]
 652:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2111              		.loc 2 652 3 is_stmt 1 view .LVU619
 2112              		.loc 2 652 20 is_stmt 0 view .LVU620
 2113 0006 074B     		ldr	r3, .L150+4
 2114 0008 1980     		strh	r1, [r3]	@ movhi
 653:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = (u8State ? 0xFF00 : 0x0000);
 2115              		.loc 2 653 3 is_stmt 1 view .LVU621
 2116              		.loc 2 653 16 is_stmt 0 view .LVU622
 2117 000a 3AB1     		cbz	r2, .L148
 2118 000c 4FF47F42 		mov	r2, #65280
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 57


 2119              	.LVL179:
 2120              	.L147:
 2121              		.loc 2 653 16 discriminator 4 view .LVU623
 2122 0010 054B     		ldr	r3, .L150+8
 2123 0012 1A80     		strh	r2, [r3]	@ movhi
 654:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteSingleCoil);
 2124              		.loc 2 654 3 is_stmt 1 discriminator 4 view .LVU624
 2125              		.loc 2 654 10 is_stmt 0 discriminator 4 view .LVU625
 2126 0014 0520     		movs	r0, #5
 2127              	.LVL180:
 2128              		.loc 2 654 10 discriminator 4 view .LVU626
 2129 0016 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2130              	.LVL181:
 655:Src/Modbus_Master/modbus_master.c **** }
 2131              		.loc 2 655 1 discriminator 4 view .LVU627
 2132 001a 08BD     		pop	{r3, pc}
 2133              	.LVL182:
 2134              	.L148:
 653:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = (u8State ? 0xFF00 : 0x0000);
 2135              		.loc 2 653 16 view .LVU628
 2136 001c 0022     		movs	r2, #0
 2137              	.LVL183:
 653:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = (u8State ? 0xFF00 : 0x0000);
 2138              		.loc 2 653 16 view .LVU629
 2139 001e F7E7     		b	.L147
 2140              	.L151:
 2141              		.align	2
 2142              	.L150:
 2143 0020 00000000 		.word	_u8MBSlave
 2144 0024 00000000 		.word	_u16WriteAddress
 2145 0028 00000000 		.word	_u16WriteQty
 2146              		.cfi_endproc
 2147              	.LFE156:
 2149              		.section	.text.ModbusMaster_writeSingleRegister,"ax",%progbits
 2150              		.align	1
 2151              		.global	ModbusMaster_writeSingleRegister
 2152              		.syntax unified
 2153              		.thumb
 2154              		.thumb_func
 2155              		.fpu fpv4-sp-d16
 2157              	ModbusMaster_writeSingleRegister:
 2158              	.LVL184:
 2159              	.LFB157:
 656:Src/Modbus_Master/modbus_master.c **** 
 657:Src/Modbus_Master/modbus_master.c **** 
 658:Src/Modbus_Master/modbus_master.c **** /**
 659:Src/Modbus_Master/modbus_master.c **** Modbus function 0x06 Write Single Register.
 660:Src/Modbus_Master/modbus_master.c **** 
 661:Src/Modbus_Master/modbus_master.c **** This function code is used to write a single holding register in a 
 662:Src/Modbus_Master/modbus_master.c **** remote device. The request specifies the address of the register to be 
 663:Src/Modbus_Master/modbus_master.c **** written. Registers are addressed starting at zero.
 664:Src/Modbus_Master/modbus_master.c **** 
 665:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the holding register (0x0000..0xFFFF)
 666:Src/Modbus_Master/modbus_master.c **** @param u16WriteValue value to be written to holding register (0x0000..0xFFFF)
 667:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 668:Src/Modbus_Master/modbus_master.c **** @ingroup register
 669:Src/Modbus_Master/modbus_master.c **** */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 58


 670:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_writeSingleRegister(uint8_t SlaveID,uint16_t u16WriteAddress,
 671:Src/Modbus_Master/modbus_master.c ****   uint16_t u16WriteValue)
 672:Src/Modbus_Master/modbus_master.c **** {
 2160              		.loc 2 672 1 is_stmt 1 view -0
 2161              		.cfi_startproc
 2162              		@ args = 0, pretend = 0, frame = 0
 2163              		@ frame_needed = 0, uses_anonymous_args = 0
 2164              		.loc 2 672 1 is_stmt 0 view .LVU631
 2165 0000 08B5     		push	{r3, lr}
 2166              	.LCFI16:
 2167              		.cfi_def_cfa_offset 8
 2168              		.cfi_offset 3, -8
 2169              		.cfi_offset 14, -4
 673:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2170              		.loc 2 673 2 is_stmt 1 view .LVU632
 2171              		.loc 2 673 13 is_stmt 0 view .LVU633
 2172 0002 064B     		ldr	r3, .L154
 2173 0004 1870     		strb	r0, [r3]
 674:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2174              		.loc 2 674 3 is_stmt 1 view .LVU634
 2175              		.loc 2 674 20 is_stmt 0 view .LVU635
 2176 0006 064B     		ldr	r3, .L154+4
 2177 0008 1980     		strh	r1, [r3]	@ movhi
 675:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = 0;
 2178              		.loc 2 675 3 is_stmt 1 view .LVU636
 2179              		.loc 2 675 16 is_stmt 0 view .LVU637
 2180 000a 064B     		ldr	r3, .L154+8
 2181 000c 0021     		movs	r1, #0
 2182              	.LVL185:
 2183              		.loc 2 675 16 view .LVU638
 2184 000e 1980     		strh	r1, [r3]	@ movhi
 676:Src/Modbus_Master/modbus_master.c ****   _u16TransmitBuffer[0] = u16WriteValue;
 2185              		.loc 2 676 3 is_stmt 1 view .LVU639
 2186              		.loc 2 676 25 is_stmt 0 view .LVU640
 2187 0010 054B     		ldr	r3, .L154+12
 2188 0012 1A80     		strh	r2, [r3]	@ movhi
 677:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteSingleRegister);
 2189              		.loc 2 677 3 is_stmt 1 view .LVU641
 2190              		.loc 2 677 10 is_stmt 0 view .LVU642
 2191 0014 0620     		movs	r0, #6
 2192              	.LVL186:
 2193              		.loc 2 677 10 view .LVU643
 2194 0016 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2195              	.LVL187:
 678:Src/Modbus_Master/modbus_master.c **** }
 2196              		.loc 2 678 1 view .LVU644
 2197 001a 08BD     		pop	{r3, pc}
 2198              	.L155:
 2199              		.align	2
 2200              	.L154:
 2201 001c 00000000 		.word	_u8MBSlave
 2202 0020 00000000 		.word	_u16WriteAddress
 2203 0024 00000000 		.word	_u16WriteQty
 2204 0028 00000000 		.word	_u16TransmitBuffer
 2205              		.cfi_endproc
 2206              	.LFE157:
 2208              		.section	.text.ModbusMaster_writeMultipleCoils,"ax",%progbits
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 59


 2209              		.align	1
 2210              		.global	ModbusMaster_writeMultipleCoils
 2211              		.syntax unified
 2212              		.thumb
 2213              		.thumb_func
 2214              		.fpu fpv4-sp-d16
 2216              	ModbusMaster_writeMultipleCoils:
 2217              	.LVL188:
 2218              	.LFB158:
 679:Src/Modbus_Master/modbus_master.c **** 
 680:Src/Modbus_Master/modbus_master.c **** 
 681:Src/Modbus_Master/modbus_master.c **** /**
 682:Src/Modbus_Master/modbus_master.c **** Modbus function 0x0F Write Multiple Coils.
 683:Src/Modbus_Master/modbus_master.c **** 
 684:Src/Modbus_Master/modbus_master.c **** This function code is used to force each coil in a sequence of coils to 
 685:Src/Modbus_Master/modbus_master.c **** either ON or OFF in a remote device. The request specifies the coil 
 686:Src/Modbus_Master/modbus_master.c **** references to be forced. Coils are addressed starting at zero.
 687:Src/Modbus_Master/modbus_master.c **** 
 688:Src/Modbus_Master/modbus_master.c **** The requested ON/OFF states are specified by contents of the transmit 
 689:Src/Modbus_Master/modbus_master.c **** buffer. A logical '1' in a bit position of the buffer requests the 
 690:Src/Modbus_Master/modbus_master.c **** corresponding output to be ON. A logical '0' requests it to be OFF.
 691:Src/Modbus_Master/modbus_master.c **** 
 692:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the first coil (0x0000..0xFFFF)
 693:Src/Modbus_Master/modbus_master.c **** @param u16BitQty quantity of coils to write (1..2000, enforced by remote device)
 694:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 695:Src/Modbus_Master/modbus_master.c **** @ingroup discrete
 696:Src/Modbus_Master/modbus_master.c **** */
 697:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_writeMultipleCoils(uint8_t SlaveID,uint16_t u16WriteAddress,
 698:Src/Modbus_Master/modbus_master.c ****   uint16_t u16BitQty)
 699:Src/Modbus_Master/modbus_master.c **** {
 2219              		.loc 2 699 1 is_stmt 1 view -0
 2220              		.cfi_startproc
 2221              		@ args = 0, pretend = 0, frame = 0
 2222              		@ frame_needed = 0, uses_anonymous_args = 0
 2223              		.loc 2 699 1 is_stmt 0 view .LVU646
 2224 0000 08B5     		push	{r3, lr}
 2225              	.LCFI17:
 2226              		.cfi_def_cfa_offset 8
 2227              		.cfi_offset 3, -8
 2228              		.cfi_offset 14, -4
 700:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2229              		.loc 2 700 2 is_stmt 1 view .LVU647
 2230              		.loc 2 700 13 is_stmt 0 view .LVU648
 2231 0002 054B     		ldr	r3, .L158
 2232 0004 1870     		strb	r0, [r3]
 701:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2233              		.loc 2 701 3 is_stmt 1 view .LVU649
 2234              		.loc 2 701 20 is_stmt 0 view .LVU650
 2235 0006 054B     		ldr	r3, .L158+4
 2236 0008 1980     		strh	r1, [r3]	@ movhi
 702:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = u16BitQty;
 2237              		.loc 2 702 3 is_stmt 1 view .LVU651
 2238              		.loc 2 702 16 is_stmt 0 view .LVU652
 2239 000a 054B     		ldr	r3, .L158+8
 2240 000c 1A80     		strh	r2, [r3]	@ movhi
 703:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteMultipleCoils);
 2241              		.loc 2 703 3 is_stmt 1 view .LVU653
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 60


 2242              		.loc 2 703 10 is_stmt 0 view .LVU654
 2243 000e 0F20     		movs	r0, #15
 2244              	.LVL189:
 2245              		.loc 2 703 10 view .LVU655
 2246 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2247              	.LVL190:
 704:Src/Modbus_Master/modbus_master.c **** }
 2248              		.loc 2 704 1 view .LVU656
 2249 0014 08BD     		pop	{r3, pc}
 2250              	.L159:
 2251 0016 00BF     		.align	2
 2252              	.L158:
 2253 0018 00000000 		.word	_u8MBSlave
 2254 001c 00000000 		.word	_u16WriteAddress
 2255 0020 00000000 		.word	_u16WriteQty
 2256              		.cfi_endproc
 2257              	.LFE158:
 2259              		.section	.text.ModbusMaster_writeMultipleRegisters,"ax",%progbits
 2260              		.align	1
 2261              		.global	ModbusMaster_writeMultipleRegisters
 2262              		.syntax unified
 2263              		.thumb
 2264              		.thumb_func
 2265              		.fpu fpv4-sp-d16
 2267              	ModbusMaster_writeMultipleRegisters:
 2268              	.LVL191:
 2269              	.LFB159:
 705:Src/Modbus_Master/modbus_master.c **** /*
 706:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_writeMultipleCoils()
 707:Src/Modbus_Master/modbus_master.c **** {
 708:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = u16TransmitBufferLength;
 709:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteMultipleCoils);
 710:Src/Modbus_Master/modbus_master.c **** }
 711:Src/Modbus_Master/modbus_master.c **** */
 712:Src/Modbus_Master/modbus_master.c **** 
 713:Src/Modbus_Master/modbus_master.c **** 
 714:Src/Modbus_Master/modbus_master.c **** /**
 715:Src/Modbus_Master/modbus_master.c **** Modbus function 0x10 Write Multiple Registers.
 716:Src/Modbus_Master/modbus_master.c **** 
 717:Src/Modbus_Master/modbus_master.c **** This function code is used to write a block of contiguous registers (1 
 718:Src/Modbus_Master/modbus_master.c **** to 123 registers) in a remote device.
 719:Src/Modbus_Master/modbus_master.c **** 
 720:Src/Modbus_Master/modbus_master.c **** The requested written values are specified in the transmit buffer. Data 
 721:Src/Modbus_Master/modbus_master.c **** is packed as one word per register.
 722:Src/Modbus_Master/modbus_master.c **** 
 723:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the holding register (0x0000..0xFFFF)
 724:Src/Modbus_Master/modbus_master.c **** @param u16WriteQty quantity of holding registers to write (1..123, enforced by remote device)
 725:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 726:Src/Modbus_Master/modbus_master.c **** @ingroup register
 727:Src/Modbus_Master/modbus_master.c **** */
 728:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_writeMultipleRegisters(uint8_t SlaveID,uint16_t u16WriteAddress,
 729:Src/Modbus_Master/modbus_master.c ****   uint16_t u16WriteQty)
 730:Src/Modbus_Master/modbus_master.c **** {
 2270              		.loc 2 730 1 is_stmt 1 view -0
 2271              		.cfi_startproc
 2272              		@ args = 0, pretend = 0, frame = 0
 2273              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 61


 2274              		.loc 2 730 1 is_stmt 0 view .LVU658
 2275 0000 08B5     		push	{r3, lr}
 2276              	.LCFI18:
 2277              		.cfi_def_cfa_offset 8
 2278              		.cfi_offset 3, -8
 2279              		.cfi_offset 14, -4
 731:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2280              		.loc 2 731 2 is_stmt 1 view .LVU659
 2281              		.loc 2 731 13 is_stmt 0 view .LVU660
 2282 0002 054B     		ldr	r3, .L162
 2283 0004 1870     		strb	r0, [r3]
 732:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2284              		.loc 2 732 3 is_stmt 1 view .LVU661
 2285              		.loc 2 732 20 is_stmt 0 view .LVU662
 2286 0006 054B     		ldr	r3, .L162+4
 2287 0008 1980     		strh	r1, [r3]	@ movhi
 733:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = u16WriteQty;
 2288              		.loc 2 733 3 is_stmt 1 view .LVU663
 2289              		.loc 2 733 16 is_stmt 0 view .LVU664
 2290 000a 054B     		ldr	r3, .L162+8
 2291 000c 1A80     		strh	r2, [r3]	@ movhi
 734:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteMultipleRegisters);
 2292              		.loc 2 734 3 is_stmt 1 view .LVU665
 2293              		.loc 2 734 10 is_stmt 0 view .LVU666
 2294 000e 1020     		movs	r0, #16
 2295              	.LVL192:
 2296              		.loc 2 734 10 view .LVU667
 2297 0010 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2298              	.LVL193:
 735:Src/Modbus_Master/modbus_master.c **** }
 2299              		.loc 2 735 1 view .LVU668
 2300 0014 08BD     		pop	{r3, pc}
 2301              	.L163:
 2302 0016 00BF     		.align	2
 2303              	.L162:
 2304 0018 00000000 		.word	_u8MBSlave
 2305 001c 00000000 		.word	_u16WriteAddress
 2306 0020 00000000 		.word	_u16WriteQty
 2307              		.cfi_endproc
 2308              	.LFE159:
 2310              		.section	.text.ModbusMaster_maskWriteRegister,"ax",%progbits
 2311              		.align	1
 2312              		.global	ModbusMaster_maskWriteRegister
 2313              		.syntax unified
 2314              		.thumb
 2315              		.thumb_func
 2316              		.fpu fpv4-sp-d16
 2318              	ModbusMaster_maskWriteRegister:
 2319              	.LVL194:
 2320              	.LFB160:
 736:Src/Modbus_Master/modbus_master.c **** 
 737:Src/Modbus_Master/modbus_master.c **** // new version based on Wire.h
 738:Src/Modbus_Master/modbus_master.c **** 
 739:Src/Modbus_Master/modbus_master.c **** /*uint8_t ModbusMaster_writeMultipleRegisters()
 740:Src/Modbus_Master/modbus_master.c **** {
 741:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = _u8TransmitBufferIndex;
 742:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBWriteMultipleRegisters);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 62


 743:Src/Modbus_Master/modbus_master.c **** }
 744:Src/Modbus_Master/modbus_master.c **** */
 745:Src/Modbus_Master/modbus_master.c **** 
 746:Src/Modbus_Master/modbus_master.c **** /**
 747:Src/Modbus_Master/modbus_master.c **** Modbus function 0x16 Mask Write Register.
 748:Src/Modbus_Master/modbus_master.c **** 
 749:Src/Modbus_Master/modbus_master.c **** This function code is used to modify the contents of a specified holding 
 750:Src/Modbus_Master/modbus_master.c **** register using a combination of an AND mask, an OR mask, and the 
 751:Src/Modbus_Master/modbus_master.c **** register's current contents. The function can be used to set or clear 
 752:Src/Modbus_Master/modbus_master.c **** individual bits in the register.
 753:Src/Modbus_Master/modbus_master.c **** 
 754:Src/Modbus_Master/modbus_master.c **** The request specifies the holding register to be written, the data to be 
 755:Src/Modbus_Master/modbus_master.c **** used as the AND mask, and the data to be used as the OR mask. Registers 
 756:Src/Modbus_Master/modbus_master.c **** are addressed starting at zero.
 757:Src/Modbus_Master/modbus_master.c **** 
 758:Src/Modbus_Master/modbus_master.c **** The function's algorithm is:
 759:Src/Modbus_Master/modbus_master.c **** 
 760:Src/Modbus_Master/modbus_master.c **** Result = (Current Contents && And_Mask) || (Or_Mask && (~And_Mask))
 761:Src/Modbus_Master/modbus_master.c **** 
 762:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the holding register (0x0000..0xFFFF)
 763:Src/Modbus_Master/modbus_master.c **** @param u16AndMask AND mask (0x0000..0xFFFF)
 764:Src/Modbus_Master/modbus_master.c **** @param u16OrMask OR mask (0x0000..0xFFFF)
 765:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 766:Src/Modbus_Master/modbus_master.c **** @ingroup register
 767:Src/Modbus_Master/modbus_master.c **** */
 768:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_maskWriteRegister(uint8_t SlaveID,uint16_t u16WriteAddress,
 769:Src/Modbus_Master/modbus_master.c ****   uint16_t u16AndMask, uint16_t u16OrMask)
 770:Src/Modbus_Master/modbus_master.c **** {
 2321              		.loc 2 770 1 is_stmt 1 view -0
 2322              		.cfi_startproc
 2323              		@ args = 0, pretend = 0, frame = 0
 2324              		@ frame_needed = 0, uses_anonymous_args = 0
 2325              		.loc 2 770 1 is_stmt 0 view .LVU670
 2326 0000 10B5     		push	{r4, lr}
 2327              	.LCFI19:
 2328              		.cfi_def_cfa_offset 8
 2329              		.cfi_offset 4, -8
 2330              		.cfi_offset 14, -4
 771:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2331              		.loc 2 771 2 is_stmt 1 view .LVU671
 2332              		.loc 2 771 13 is_stmt 0 view .LVU672
 2333 0002 054C     		ldr	r4, .L166
 2334 0004 2070     		strb	r0, [r4]
 772:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2335              		.loc 2 772 3 is_stmt 1 view .LVU673
 2336              		.loc 2 772 20 is_stmt 0 view .LVU674
 2337 0006 0548     		ldr	r0, .L166+4
 2338              	.LVL195:
 2339              		.loc 2 772 20 view .LVU675
 2340 0008 0180     		strh	r1, [r0]	@ movhi
 773:Src/Modbus_Master/modbus_master.c ****   _u16TransmitBuffer[0] = u16AndMask;
 2341              		.loc 2 773 3 is_stmt 1 view .LVU676
 2342              		.loc 2 773 25 is_stmt 0 view .LVU677
 2343 000a 0549     		ldr	r1, .L166+8
 2344              	.LVL196:
 2345              		.loc 2 773 25 view .LVU678
 2346 000c 0A80     		strh	r2, [r1]	@ movhi
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 63


 774:Src/Modbus_Master/modbus_master.c ****   _u16TransmitBuffer[1] = u16OrMask;
 2347              		.loc 2 774 3 is_stmt 1 view .LVU679
 2348              		.loc 2 774 25 is_stmt 0 view .LVU680
 2349 000e 4B80     		strh	r3, [r1, #2]	@ movhi
 775:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBMaskWriteRegister);
 2350              		.loc 2 775 3 is_stmt 1 view .LVU681
 2351              		.loc 2 775 10 is_stmt 0 view .LVU682
 2352 0010 1620     		movs	r0, #22
 2353              		.loc 2 775 10 view .LVU683
 2354 0012 FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2355              	.LVL197:
 776:Src/Modbus_Master/modbus_master.c **** }
 2356              		.loc 2 776 1 view .LVU684
 2357 0016 10BD     		pop	{r4, pc}
 2358              	.L167:
 2359              		.align	2
 2360              	.L166:
 2361 0018 00000000 		.word	_u8MBSlave
 2362 001c 00000000 		.word	_u16WriteAddress
 2363 0020 00000000 		.word	_u16TransmitBuffer
 2364              		.cfi_endproc
 2365              	.LFE160:
 2367              		.section	.text.ModbusMaster_readWriteMultipleRegisters,"ax",%progbits
 2368              		.align	1
 2369              		.global	ModbusMaster_readWriteMultipleRegisters
 2370              		.syntax unified
 2371              		.thumb
 2372              		.thumb_func
 2373              		.fpu fpv4-sp-d16
 2375              	ModbusMaster_readWriteMultipleRegisters:
 2376              	.LVL198:
 2377              	.LFB161:
 777:Src/Modbus_Master/modbus_master.c **** 
 778:Src/Modbus_Master/modbus_master.c **** 
 779:Src/Modbus_Master/modbus_master.c **** /**
 780:Src/Modbus_Master/modbus_master.c **** Modbus function 0x17 Read Write Multiple Registers.
 781:Src/Modbus_Master/modbus_master.c **** 
 782:Src/Modbus_Master/modbus_master.c **** This function code performs a combination of one read operation and one 
 783:Src/Modbus_Master/modbus_master.c **** write operation in a single MODBUS transaction. The write operation is 
 784:Src/Modbus_Master/modbus_master.c **** performed before the read. Holding registers are addressed starting at 
 785:Src/Modbus_Master/modbus_master.c **** zero.
 786:Src/Modbus_Master/modbus_master.c **** 
 787:Src/Modbus_Master/modbus_master.c **** The request specifies the starting address and number of holding 
 788:Src/Modbus_Master/modbus_master.c **** registers to be read as well as the starting address, and the number of 
 789:Src/Modbus_Master/modbus_master.c **** holding registers. The data to be written is specified in the transmit 
 790:Src/Modbus_Master/modbus_master.c **** buffer.
 791:Src/Modbus_Master/modbus_master.c **** 
 792:Src/Modbus_Master/modbus_master.c **** @param u16ReadAddress address of the first holding register (0x0000..0xFFFF)
 793:Src/Modbus_Master/modbus_master.c **** @param u16ReadQty quantity of holding registers to read (1..125, enforced by remote device)
 794:Src/Modbus_Master/modbus_master.c **** @param u16WriteAddress address of the first holding register (0x0000..0xFFFF)
 795:Src/Modbus_Master/modbus_master.c **** @param u16WriteQty quantity of holding registers to write (1..121, enforced by remote device)
 796:Src/Modbus_Master/modbus_master.c **** @return 0 on success; exception number on failure
 797:Src/Modbus_Master/modbus_master.c **** @ingroup register
 798:Src/Modbus_Master/modbus_master.c **** */
 799:Src/Modbus_Master/modbus_master.c **** uint8_t ModbusMaster_readWriteMultipleRegisters(uint8_t SlaveID,uint16_t u16ReadAddress,
 800:Src/Modbus_Master/modbus_master.c ****   uint16_t u16ReadQty, uint16_t u16WriteAddress, uint16_t u16WriteQty)
 801:Src/Modbus_Master/modbus_master.c **** {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 64


 2378              		.loc 2 801 1 is_stmt 1 view -0
 2379              		.cfi_startproc
 2380              		@ args = 4, pretend = 0, frame = 0
 2381              		@ frame_needed = 0, uses_anonymous_args = 0
 2382              		.loc 2 801 1 is_stmt 0 view .LVU686
 2383 0000 10B5     		push	{r4, lr}
 2384              	.LCFI20:
 2385              		.cfi_def_cfa_offset 8
 2386              		.cfi_offset 4, -8
 2387              		.cfi_offset 14, -4
 802:Src/Modbus_Master/modbus_master.c **** 	_u8MBSlave = SlaveID;
 2388              		.loc 2 802 2 is_stmt 1 view .LVU687
 2389              		.loc 2 802 13 is_stmt 0 view .LVU688
 2390 0002 084C     		ldr	r4, .L170
 2391 0004 2070     		strb	r0, [r4]
 803:Src/Modbus_Master/modbus_master.c ****   _u16ReadAddress = u16ReadAddress;
 2392              		.loc 2 803 3 is_stmt 1 view .LVU689
 2393              		.loc 2 803 19 is_stmt 0 view .LVU690
 2394 0006 0848     		ldr	r0, .L170+4
 2395              	.LVL199:
 2396              		.loc 2 803 19 view .LVU691
 2397 0008 0180     		strh	r1, [r0]	@ movhi
 804:Src/Modbus_Master/modbus_master.c ****   _u16ReadQty = u16ReadQty;
 2398              		.loc 2 804 3 is_stmt 1 view .LVU692
 2399              		.loc 2 804 15 is_stmt 0 view .LVU693
 2400 000a 0849     		ldr	r1, .L170+8
 2401              	.LVL200:
 2402              		.loc 2 804 15 view .LVU694
 2403 000c 0A80     		strh	r2, [r1]	@ movhi
 805:Src/Modbus_Master/modbus_master.c ****   _u16WriteAddress = u16WriteAddress;
 2404              		.loc 2 805 3 is_stmt 1 view .LVU695
 2405              		.loc 2 805 20 is_stmt 0 view .LVU696
 2406 000e 084A     		ldr	r2, .L170+12
 2407              	.LVL201:
 2408              		.loc 2 805 20 view .LVU697
 2409 0010 1380     		strh	r3, [r2]	@ movhi
 806:Src/Modbus_Master/modbus_master.c ****   _u16WriteQty = u16WriteQty;
 2410              		.loc 2 806 3 is_stmt 1 view .LVU698
 2411              		.loc 2 806 16 is_stmt 0 view .LVU699
 2412 0012 BDF80820 		ldrh	r2, [sp, #8]
 2413 0016 074B     		ldr	r3, .L170+16
 2414              	.LVL202:
 2415              		.loc 2 806 16 view .LVU700
 2416 0018 1A80     		strh	r2, [r3]	@ movhi
 807:Src/Modbus_Master/modbus_master.c ****   return ModbusMaster_ModbusMasterTransaction(ku8MBReadWriteMultipleRegisters);
 2417              		.loc 2 807 3 is_stmt 1 view .LVU701
 2418              		.loc 2 807 10 is_stmt 0 view .LVU702
 2419 001a 1720     		movs	r0, #23
 2420              		.loc 2 807 10 view .LVU703
 2421 001c FFF7FEFF 		bl	ModbusMaster_ModbusMasterTransaction
 2422              	.LVL203:
 808:Src/Modbus_Master/modbus_master.c **** }
 2423              		.loc 2 808 1 view .LVU704
 2424 0020 10BD     		pop	{r4, pc}
 2425              	.LVL204:
 2426              	.L171:
 2427              		.loc 2 808 1 view .LVU705
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 65


 2428 0022 00BF     		.align	2
 2429              	.L170:
 2430 0024 00000000 		.word	_u8MBSlave
 2431 0028 00000000 		.word	_u16ReadAddress
 2432 002c 00000000 		.word	_u16ReadQty
 2433 0030 00000000 		.word	_u16WriteAddress
 2434 0034 00000000 		.word	_u16WriteQty
 2435              		.cfi_endproc
 2436              	.LFE161:
 2438              		.comm	_postTransmission,4,4
 2439              		.comm	_preTransmission,4,4
 2440              		.comm	_idle,4,4
 2441              		.comm	_u8ResponseBufferLength,1,1
 2442              		.comm	_u8ResponseBufferIndex,1,1
 2443              		.comm	rxBuffer,4,4
 2444              		.comm	u16TransmitBufferLength,2,2
 2445              		.comm	_u8TransmitBufferIndex,1,1
 2446              		.comm	txBuffer,4,4
 2447              		.comm	_u16TransmitBuffer,128,4
 2448              		.comm	_u16WriteQty,2,2
 2449              		.comm	_u16WriteAddress,2,2
 2450              		.comm	_u16ResponseBuffer,128,4
 2451              		.comm	_u16ReadQty,2,2
 2452              		.comm	_u16ReadAddress,2,2
 2453              		.comm	_u8MBSlave,1,1
 2454              		.text
 2455              	.Letext0:
 2456              		.file 4 "c:\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\include\\machine\\_defau
 2457              		.file 5 "c:\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 2458              		.file 6 "Drivers/CMSIS/Include/core_cm4.h"
 2459              		.file 7 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 2460              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 2461              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 2462              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 2463              		.file 11 "Src/Modbus_Master/trans_recieve_buff_control.h"
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 66


DEFINED SYMBOLS
                            *ABS*:00000000 modbus_master.c
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:18     .text.crc16_update:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:25     .text.crc16_update:00000000 crc16_update
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:77     .text.ModbusMaster_begin:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:84     .text.ModbusMaster_begin:00000000 ModbusMaster_begin
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:113    .text.ModbusMaster_begin:00000014 $d
                            *COM*:00000001 _u8TransmitBufferIndex
                            *COM*:00000002 u16TransmitBufferLength
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:119    .text.ModbusMaster_beginTransmission:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:126    .text.ModbusMaster_beginTransmission:00000000 ModbusMaster_beginTransmission
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:152    .text.ModbusMaster_beginTransmission:00000010 $d
                            *COM*:00000002 _u16WriteAddress
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:159    .text.ModbusMaster_requestFrom:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:166    .text.ModbusMaster_requestFrom:00000000 ModbusMaster_requestFrom
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:193    .text.ModbusMaster_requestFrom:0000000c $d
                            *COM*:00000001 _u8ResponseBufferIndex
                            *COM*:00000001 _u8ResponseBufferLength
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:199    .text.ModbusMaster_sendBit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:206    .text.ModbusMaster_sendBit:00000000 ModbusMaster_sendBit
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:309    .text.ModbusMaster_sendBit:00000064 $d
                            *COM*:00000080 _u16TransmitBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:316    .text.ModbusMaster_send16:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:323    .text.ModbusMaster_send16:00000000 ModbusMaster_send16
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:359    .text.ModbusMaster_send16:00000020 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:366    .text.ModbusMaster_send32:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:373    .text.ModbusMaster_send32:00000000 ModbusMaster_send32
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:424    .text.ModbusMaster_send8:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:431    .text.ModbusMaster_send8:00000000 ModbusMaster_send8
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:453    .text.ModbusMaster_available:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:460    .text.ModbusMaster_available:00000000 ModbusMaster_available
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:480    .text.ModbusMaster_available:00000010 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:486    .text.ModbusMaster_receive:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:493    .text.ModbusMaster_receive:00000000 ModbusMaster_receive
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:526    .text.ModbusMaster_receive:00000020 $d
                            *COM*:00000080 _u16ResponseBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:533    .text.ModbusMaster_getResponseBuffer:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:540    .text.ModbusMaster_getResponseBuffer:00000000 ModbusMaster_getResponseBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:569    .text.ModbusMaster_getResponseBuffer:00000014 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:574    .text.ModbusMaster_clearResponseBuffer:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:581    .text.ModbusMaster_clearResponseBuffer:00000000 ModbusMaster_clearResponseBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:619    .text.ModbusMaster_clearResponseBuffer:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:624    .text.ModbusMaster_setTransmitBuffer:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:631    .text.ModbusMaster_setTransmitBuffer:00000000 ModbusMaster_setTransmitBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:663    .text.ModbusMaster_setTransmitBuffer:00000014 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:668    .text.ModbusMaster_clearTransmitBuffer:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:675    .text.ModbusMaster_clearTransmitBuffer:00000000 ModbusMaster_clearTransmitBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:713    .text.ModbusMaster_clearTransmitBuffer:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:718    .text.ModbusMaster_ModbusMasterTransaction:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:725    .text.ModbusMaster_ModbusMasterTransaction:00000000 ModbusMaster_ModbusMasterTransaction
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:824    .text.ModbusMaster_ModbusMasterTransaction:0000004c $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1514   .text.ModbusMaster_ModbusMasterTransaction:00000250 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1537   .text.ModbusMaster_ModbusMasterTransaction:000002ac $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1595   .text.ModbusMaster_ModbusMasterTransaction:000002dc $d
                            *COM*:00000001 _u8MBSlave
                            *COM*:00000002 _u16ReadAddress
                            *COM*:00000002 _u16ReadQty
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s 			page 67


                            *COM*:00000002 _u16WriteQty
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1606   .text.ModbusMaster_ModbusMasterTransaction:000002f8 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1874   .text.ModbusMaster_ModbusMasterTransaction:000003d4 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1883   .text.ModbusMaster_readCoils:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1890   .text.ModbusMaster_readCoils:00000000 ModbusMaster_readCoils
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1927   .text.ModbusMaster_readCoils:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1934   .text.ModbusMaster_readDiscreteInputs:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1941   .text.ModbusMaster_readDiscreteInputs:00000000 ModbusMaster_readDiscreteInputs
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1978   .text.ModbusMaster_readDiscreteInputs:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1985   .text.ModbusMaster_readHoldingRegisters:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:1992   .text.ModbusMaster_readHoldingRegisters:00000000 ModbusMaster_readHoldingRegisters
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2029   .text.ModbusMaster_readHoldingRegisters:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2036   .text.ModbusMaster_readInputRegisters:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2043   .text.ModbusMaster_readInputRegisters:00000000 ModbusMaster_readInputRegisters
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2080   .text.ModbusMaster_readInputRegisters:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2087   .text.ModbusMaster_writeSingleCoil:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2094   .text.ModbusMaster_writeSingleCoil:00000000 ModbusMaster_writeSingleCoil
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2143   .text.ModbusMaster_writeSingleCoil:00000020 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2150   .text.ModbusMaster_writeSingleRegister:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2157   .text.ModbusMaster_writeSingleRegister:00000000 ModbusMaster_writeSingleRegister
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2201   .text.ModbusMaster_writeSingleRegister:0000001c $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2209   .text.ModbusMaster_writeMultipleCoils:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2216   .text.ModbusMaster_writeMultipleCoils:00000000 ModbusMaster_writeMultipleCoils
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2253   .text.ModbusMaster_writeMultipleCoils:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2260   .text.ModbusMaster_writeMultipleRegisters:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2267   .text.ModbusMaster_writeMultipleRegisters:00000000 ModbusMaster_writeMultipleRegisters
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2304   .text.ModbusMaster_writeMultipleRegisters:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2311   .text.ModbusMaster_maskWriteRegister:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2318   .text.ModbusMaster_maskWriteRegister:00000000 ModbusMaster_maskWriteRegister
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2361   .text.ModbusMaster_maskWriteRegister:00000018 $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2368   .text.ModbusMaster_readWriteMultipleRegisters:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2375   .text.ModbusMaster_readWriteMultipleRegisters:00000000 ModbusMaster_readWriteMultipleRegisters
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:2430   .text.ModbusMaster_readWriteMultipleRegisters:00000024 $d
                            *COM*:00000004 _postTransmission
                            *COM*:00000004 _preTransmission
                            *COM*:00000004 _idle
                            *COM*:00000004 rxBuffer
                            *COM*:00000004 txBuffer
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:844    .text.ModbusMaster_ModbusMasterTransaction:0000005f $d
C:\Users\andywei\AppData\Local\Temp\ccEQMT6r.s:844    .text.ModbusMaster_ModbusMasterTransaction:00000060 $t

UNDEFINED SYMBOLS
Modbus_Master_RB_Initialize
Modbus_Master_Rece_Flush
Modbus_Master_Write
Modbus_Master_Millis
Modbus_Master_Read
Modbus_Master_Rece_Available
